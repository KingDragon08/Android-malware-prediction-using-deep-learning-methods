.class public Lcom/nd/dianjin/webservice/BusinessProcess;
.super Ljava/lang/Object;

.field public static CANCELLED:I = 0

.field public static ERROR:I = 0

.field public final static NETWORK_ERROR:Ljava/lang/String; = "There was a problem connecting to the network."

.field public final static SEARCH_ERROR_MESSAGE:Ljava/lang/String; = "There was a problem loading the search results. Please try again."

.field public final static SERVER_ERROR:Ljava/lang/String; = "There was a problem connecting to the server."

.field public static SUCCESS:I

.field private static a:Z

.field private static c:Z

.field private static d:Landroid/content/Context;

.field private static f:Z

.field private b:Lcom/nd/dianjin/webservice/BusinessProcess$LoadingDialogType;

.field private e:Landroid/os/Handler;

.method static constructor <clinit>()V
    .registers 2
    const/4 v1, 0
    sput v1, Lcom/nd/dianjin/webservice/BusinessProcess;->SUCCESS:I
    const/4 v0, 1
    sput v0, Lcom/nd/dianjin/webservice/BusinessProcess;->ERROR:I
    const/4 v0, 2
    sput v0, Lcom/nd/dianjin/webservice/BusinessProcess;->CANCELLED:I
    const/4 v0, 0
    sput-object v0, Lcom/nd/dianjin/webservice/BusinessProcess;->d:Landroid/content/Context;
    sput-boolean v1, Lcom/nd/dianjin/webservice/BusinessProcess;->f:Z
    return-void
.end method

.method public constructor <init>(ZZLjava/lang/String;Landroid/content/Context;Landroid/os/Handler;)V
    .registers 8
    invoke-direct { p0 }, Ljava/lang/Object;-><init>()V
    const/4 v0, 0
    iput-object v0, p0, Lcom/nd/dianjin/webservice/BusinessProcess;->e:Landroid/os/Handler;
    sput-boolean p1, Lcom/nd/dianjin/webservice/BusinessProcess;->a:Z
    sput-boolean p2, Lcom/nd/dianjin/webservice/BusinessProcess;->c:Z
    sget-object v0, Lcom/nd/dianjin/webservice/BusinessProcess$LoadingDialogType;->Generic:Lcom/nd/dianjin/webservice/BusinessProcess$LoadingDialogType;
    iput-object v0, p0, Lcom/nd/dianjin/webservice/BusinessProcess;->b:Lcom/nd/dianjin/webservice/BusinessProcess$LoadingDialogType;
    sget-boolean v0, Lcom/nd/dianjin/webservice/BusinessProcess;->a:Z
    if-nez v0, :L0
    sget-boolean v0, Lcom/nd/dianjin/webservice/BusinessProcess;->c:Z
    if-eqz v0, :L1
    :L0
    if-nez p4, :L1
    new-instance v0, Ljava/lang/RuntimeException;
    const-string v1, "\u6709\u9519\u8bef, \u4e0a\u4e0b\u6587\u4e0d\u80fd\u4e3a\u7a7a\u5fc5\u987b\u5b9a\u4e49\u4e0a\u4e0b\u6587\u6765\u663e\u793a\u9519\u8bef\u4fe1\u606f\u6216\u8005\u8fdb\u5ea6\u63d0\u793a"
    invoke-direct { v0, v1 }, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
    throw v0
    :L1
    sput-object p4, Lcom/nd/dianjin/webservice/BusinessProcess;->d:Landroid/content/Context;
    sget-boolean v0, Lcom/nd/dianjin/webservice/BusinessProcess;->c:Z
    if-eqz v0, :L3
    if-nez p3, :L2
    new-instance v0, Ljava/lang/RuntimeException;
    const-string v1, "\u6709\u9519\u8bef\uff0c\u5fc5\u987b\u5b9a\u4e49\u9519\u8bef\u4fe1\u606f\u6807\u9898"
    invoke-direct { v0, v1 }, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
    throw v0
    :L2
    if-nez p5, :L3
    new-instance v0, Ljava/lang/RuntimeException;
    const-string v1, "\u6709\u9519\u8bef\uff0c\u5fc5\u987b\u5b9a\u4e49uiHandler\u6765\u663e\u793a\u9519\u8bef\u4fe1\u606f"
    invoke-direct { v0, v1 }, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
    throw v0
    :L3
    iput-object p5, p0, Lcom/nd/dianjin/webservice/BusinessProcess;->e:Landroid/os/Handler;
    return-void
.end method

.method static synthetic a(Landroid/content/Context;Lcom/nd/dianjin/webservice/BusinessProcess$LoadingDialogType;Lcom/nd/dianjin/webservice/BusinessProcess$CancelRequestListener;)Landroid/app/ProgressDialog;
    .registers 6
    new-instance v1, Landroid/app/ProgressDialog;
    invoke-direct { v1, p0 }, Landroid/app/ProgressDialog;-><init>(Landroid/content/Context;)V
    sget-object v0, Lcom/nd/dianjin/webservice/BusinessProcess$LoadingDialogType;->Generic:Lcom/nd/dianjin/webservice/BusinessProcess$LoadingDialogType;
    if-eq p1, v0, :L2
    sget-object v0, Lcom/nd/dianjin/webservice/BusinessProcess$LoadingDialogType;->Search:Lcom/nd/dianjin/webservice/BusinessProcess$LoadingDialogType;
    if-ne p1, v0, :L2
    const-string v0, "Searching..."
    :L0
    invoke-virtual { v1, v0 }, Landroid/app/ProgressDialog;->setMessage(Ljava/lang/CharSequence;)V
    const/4 v0, 1
    invoke-virtual { v1, v0 }, Landroid/app/ProgressDialog;->setIndeterminate(Z)V
    if-eqz p2, :L3
    const-string v0, "Cancle"
    new-instance v2, Lcom/nd/dianjin/webservice/a;
    invoke-direct { v2, p2 }, Lcom/nd/dianjin/webservice/a;-><init>(Lcom/nd/dianjin/webservice/BusinessProcess$CancelRequestListener;)V
    invoke-virtual { v1, v0, v2 }, Landroid/app/ProgressDialog;->setButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)V
    :L1
    return-object v1
    :L2
    const-string v0, "Loading..."
    goto :L0
    :L3
    const/4 v0, 0
    invoke-virtual { v1, v0 }, Landroid/app/ProgressDialog;->setCancelable(Z)V
    goto :L1
.end method

.method static synthetic a(Lcom/nd/dianjin/webservice/BusinessProcess;)Landroid/os/Handler;
    .registers 2
    iget-object v0, p0, Lcom/nd/dianjin/webservice/BusinessProcess;->e:Landroid/os/Handler;
    return-object v0
.end method

.method static synthetic a(Landroid/os/Handler;)V
    .registers 3
    invoke-static { }, Landroid/os/Message;->obtain()Landroid/os/Message;
    move-result-object v0
    sget v1, Lcom/nd/dianjin/webservice/BusinessProcess;->ERROR:I
    iput v1, v0, Landroid/os/Message;->what:I
    const/16 v1, 500
    iput v1, v0, Landroid/os/Message;->arg1:I
    invoke-virtual { p0, v0 }, Landroid/os/Handler;->sendMessage(Landroid/os/Message;)Z
    return-void
.end method

.method static synthetic a()Z
    .registers 1
    sget-boolean v0, Lcom/nd/dianjin/webservice/BusinessProcess;->a:Z
    return v0
.end method

.method private a(Lcom/nd/dianjin/webservice/BusinessProcess$ResponseType;Lcom/nd/dianjin/webservice/BusinessProcess$ResponseListener;Lcom/nd/dianjin/webservice/ServiceRequest;)Z
    .registers 9
    new-instance v1, Lcom/nd/dianjin/webservice/b;
    invoke-virtual { p2 }, Lcom/nd/dianjin/webservice/BusinessProcess$ResponseListener;->getCancelRequestListener()Lcom/nd/dianjin/webservice/BusinessProcess$CancelRequestListener;
    move-result-object v0
    invoke-direct { v1, p0, v0 }, Lcom/nd/dianjin/webservice/b;-><init>(Lcom/nd/dianjin/webservice/BusinessProcess;Lcom/nd/dianjin/webservice/BusinessProcess$CancelRequestListener;)V
    sget-object v0, Lcom/nd/dianjin/webservice/BusinessProcess;->d:Landroid/content/Context;
    if-eqz v0, :L3
    new-instance v0, Lcom/nd/dianjin/webservice/ConnectionWrapper;
    sget-object v2, Lcom/nd/dianjin/webservice/BusinessProcess;->d:Landroid/content/Context;
    invoke-direct { v0, v2 }, Lcom/nd/dianjin/webservice/ConnectionWrapper;-><init>(Landroid/content/Context;)V
    :L0
    sget-boolean v2, Lcom/nd/dianjin/webservice/BusinessProcess;->a:Z
    if-eqz v2, :L1
    invoke-virtual { v1 }, Lcom/nd/dianjin/webservice/b;->a()V
    :L1
    const-string v2, "http://mjoy.91.com/index.php/server"
    new-instance v3, Lcom/nd/dianjin/webservice/BusinessProcess$ConnectionCallback;
    iget-object v4, p0, Lcom/nd/dianjin/webservice/BusinessProcess;->e:Landroid/os/Handler;
    invoke-direct { v3, p1, p2, v1, v4 }, Lcom/nd/dianjin/webservice/BusinessProcess$ConnectionCallback;-><init>(Lcom/nd/dianjin/webservice/BusinessProcess$ResponseType;Lcom/nd/dianjin/webservice/BusinessProcess$ResponseListener;Lcom/nd/dianjin/webservice/b;Landroid/os/Handler;)V
    invoke-virtual { v0, v2, v3, p3 }, Lcom/nd/dianjin/webservice/ConnectionWrapper;->openURL(Ljava/lang/String;Lcom/nd/dianjin/webservice/ConnectionWrapper$ConnectionInterface;Lcom/nd/dianjin/webservice/ServiceRequest;)Z
    move-result v0
    if-nez v0, :L2
    sget-boolean v2, Lcom/nd/dianjin/webservice/BusinessProcess;->a:Z
    if-eqz v2, :L2
    invoke-virtual { v1 }, Lcom/nd/dianjin/webservice/b;->b()V
    :L2
    return v0
    :L3
    new-instance v0, Lcom/nd/dianjin/webservice/ConnectionWrapper;
    invoke-direct { v0 }, Lcom/nd/dianjin/webservice/ConnectionWrapper;-><init>()V
    goto :L0
.end method

.method static synthetic b(Lcom/nd/dianjin/webservice/BusinessProcess;)Lcom/nd/dianjin/webservice/BusinessProcess$LoadingDialogType;
    .registers 2
    iget-object v0, p0, Lcom/nd/dianjin/webservice/BusinessProcess;->b:Lcom/nd/dianjin/webservice/BusinessProcess$LoadingDialogType;
    return-object v0
.end method

.method static synthetic b(Landroid/os/Handler;)V
    .registers 3
    invoke-static { }, Landroid/os/Message;->obtain()Landroid/os/Message;
    move-result-object v0
    sget v1, Lcom/nd/dianjin/webservice/BusinessProcess;->ERROR:I
    iput v1, v0, Landroid/os/Message;->what:I
    const/4 v1, -1
    iput v1, v0, Landroid/os/Message;->arg1:I
    invoke-virtual { p0, v0 }, Landroid/os/Handler;->sendMessage(Landroid/os/Message;)Z
    return-void
.end method

.method static synthetic b()Z
    .registers 1
    sget-boolean v0, Lcom/nd/dianjin/webservice/BusinessProcess;->c:Z
    return v0
.end method

.method static synthetic c()Z
    .registers 1
    const/4 v0, 0
    return v0
.end method

.method public static convertStreamToString(Ljava/io/InputStream;Lcom/nd/dianjin/webservice/ServiceResponse;)Ljava/lang/String;
    .catch Ljava/io/IOException; { :L2 .. :L3 } :L4
    .catch Ljava/io/IOException; { :L6 .. :L7 } :L8
    .catch Ljava/io/IOException; { :L11 .. :L12 } :L18
    .catchall { :L11 .. :L12 } :L23
    .catch Ljava/io/IOException; { :L13 .. :L14 } :L27
    .catch Ljava/io/IOException; { :L16 .. :L17 } :L18
    .catchall { :L16 .. :L17 } :L23
    .catchall { :L19 .. :L20 } :L23
    .catch Ljava/io/IOException; { :L20 .. :L21 } :L22
    .catch Ljava/io/IOException; { :L24 .. :L25 } :L26
    .registers 6
    const/4 v0, 0
    if-nez p0, :L1
    :L0
    return-object v0
    :L1
    new-instance v1, Ljava/io/DataInputStream;
    invoke-direct { v1, p0 }, Ljava/io/DataInputStream;-><init>(Ljava/io/InputStream;)V
    :L2
    invoke-virtual { v1 }, Ljava/io/DataInputStream;->readByte()B
    move-result v2
    invoke-virtual { p1, v2 }, Lcom/nd/dianjin/webservice/ServiceResponse;->setEncryptionMethod(B)V
    invoke-virtual { v1 }, Ljava/io/DataInputStream;->readShort()S
    move-result v2
    invoke-virtual { p1, v2 }, Lcom/nd/dianjin/webservice/ServiceResponse;->setAct(S)V
    invoke-virtual { v1 }, Ljava/io/DataInputStream;->readInt()I
    move-result v2
    invoke-virtual { p1, v2 }, Lcom/nd/dianjin/webservice/ServiceResponse;->setResponErrorCode(I)V
    invoke-virtual { v1 }, Ljava/io/DataInputStream;->readInt()I
    move-result v2
    invoke-virtual { p1, v2 }, Lcom/nd/dianjin/webservice/ServiceResponse;->setPackageBodyLength(I)V
    const/16 v2, 21
    invoke-virtual { v1, v2 }, Ljava/io/DataInputStream;->skipBytes(I)I
    :L3
    invoke-virtual { p1 }, Lcom/nd/dianjin/webservice/ServiceResponse;->getPackageBodyLength()I
    move-result v1
    if-nez v1, :L5
    invoke-virtual { p1 }, Lcom/nd/dianjin/webservice/ServiceResponse;->getResponErrorCode()I
    move-result v0
    invoke-static { v0 }, Ljava/lang/String;->valueOf(I)Ljava/lang/String;
    move-result-object v0
    goto :L0
    :L4
    move-exception v1
    invoke-virtual { v1 }, Ljava/io/IOException;->printStackTrace()V
    goto :L3
    :L5
    invoke-virtual { p1 }, Lcom/nd/dianjin/webservice/ServiceResponse;->getEncryptionMethod()B
    move-result v1
    const/4 v2, 1
    if-ne v1, v2, :L15
    :L6
    new-instance v1, Ljava/util/zip/GZIPInputStream;
    invoke-direct { v1, p0 }, Ljava/util/zip/GZIPInputStream;-><init>(Ljava/io/InputStream;)V
    :L7
    if-nez v1, :L9
    const-string v0, "read GZIPInputStream  error"
    goto :L0
    :L8
    move-exception v1
    const-string v1, "BusinessProcess"
    const-string v2, "read GZIPInputStream error"
    invoke-static { v1, v2 }, Lcom/nd/dianjin/utility/LogUtil;->e(Ljava/lang/String;Ljava/lang/String;)V
    move-object v1, v0
    goto :L7
    :L9
    new-instance v0, Ljava/io/BufferedReader;
    new-instance v2, Ljava/io/InputStreamReader;
    invoke-direct { v2, v1 }, Ljava/io/InputStreamReader;-><init>(Ljava/io/InputStream;)V
    invoke-direct { v0, v2 }, Ljava/io/BufferedReader;-><init>(Ljava/io/Reader;)V
    :L10
    new-instance v1, Ljava/lang/StringBuilder;
    invoke-direct { v1 }, Ljava/lang/StringBuilder;-><init>()V
    :L11
    invoke-virtual { v0 }, Ljava/io/BufferedReader;->readLine()Ljava/lang/String;
    :L12
    move-result-object v2
    if-nez v2, :L16
    :L13
    invoke-virtual { p0 }, Ljava/io/InputStream;->close()V
    :L14
    invoke-virtual { v1 }, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    move-result-object v0
    goto :L0
    :L15
    new-instance v0, Ljava/io/BufferedReader;
    new-instance v1, Ljava/io/InputStreamReader;
    invoke-direct { v1, p0 }, Ljava/io/InputStreamReader;-><init>(Ljava/io/InputStream;)V
    invoke-direct { v0, v1 }, Ljava/io/BufferedReader;-><init>(Ljava/io/Reader;)V
    goto :L10
    :L16
    new-instance v3, Ljava/lang/StringBuilder;
    invoke-static { v2 }, Ljava/lang/String;->valueOf(Ljava/lang/Object;)Ljava/lang/String;
    move-result-object v2
    invoke-direct { v3, v2 }, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
    const-string v2, "\n"
    invoke-virtual { v3, v2 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    move-result-object v2
    invoke-virtual { v2 }, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    move-result-object v2
    invoke-virtual { v1, v2 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    :L17
    goto :L11
    :L18
    move-exception v0
    :L19
    invoke-virtual { v0 }, Ljava/io/IOException;->printStackTrace()V
    :L20
    invoke-virtual { p0 }, Ljava/io/InputStream;->close()V
    :L21
    goto :L14
    :L22
    move-exception v0
    invoke-virtual { v0 }, Ljava/io/IOException;->printStackTrace()V
    goto :L14
    :L23
    move-exception v0
    :L24
    invoke-virtual { p0 }, Ljava/io/InputStream;->close()V
    :L25
    throw v0
    :L26
    move-exception v1
    invoke-virtual { v1 }, Ljava/io/IOException;->printStackTrace()V
    goto :L25
    :L27
    move-exception v0
    invoke-virtual { v0 }, Ljava/io/IOException;->printStackTrace()V
    goto :L14
.end method

.method static synthetic d()Landroid/content/Context;
    .registers 1
    sget-object v0, Lcom/nd/dianjin/webservice/BusinessProcess;->d:Landroid/content/Context;
    return-object v0
.end method

.method public static sendSuccessMessage(Landroid/os/Handler;Landroid/os/Message;)V
    .registers 2
    invoke-virtual { p0, p1 }, Landroid/os/Handler;->sendMessage(Landroid/os/Message;)Z
    return-void
.end method

.method public requestJSONArray(Ljava/util/Map;Lcom/nd/dianjin/webservice/BusinessProcess$JSONArrayResponseListener;Lcom/nd/dianjin/webservice/ServiceRequest;)Z
    .registers 5
    const-string v0, ""
    sget-object v0, Lcom/nd/dianjin/webservice/BusinessProcess$ResponseType;->JSONArray:Lcom/nd/dianjin/webservice/BusinessProcess$ResponseType;
    invoke-direct { p0, v0, p2, p3 }, Lcom/nd/dianjin/webservice/BusinessProcess;->a(Lcom/nd/dianjin/webservice/BusinessProcess$ResponseType;Lcom/nd/dianjin/webservice/BusinessProcess$ResponseListener;Lcom/nd/dianjin/webservice/ServiceRequest;)Z
    move-result v0
    return v0
.end method

.method public requestJSONObject(Ljava/util/Map;Lcom/nd/dianjin/webservice/BusinessProcess$JSONObjectResponseListener;Lcom/nd/dianjin/webservice/ServiceRequest;)Z
    .registers 5
    const-string v0, ""
    sget-object v0, Lcom/nd/dianjin/webservice/BusinessProcess$ResponseType;->JSONObject:Lcom/nd/dianjin/webservice/BusinessProcess$ResponseType;
    invoke-direct { p0, v0, p2, p3 }, Lcom/nd/dianjin/webservice/BusinessProcess;->a(Lcom/nd/dianjin/webservice/BusinessProcess$ResponseType;Lcom/nd/dianjin/webservice/BusinessProcess$ResponseListener;Lcom/nd/dianjin/webservice/ServiceRequest;)Z
    move-result v0
    return v0
.end method

.method public requestRaw(Ljava/lang/String;Ljava/util/Map;Lcom/nd/dianjin/webservice/BusinessProcess$RawResponseListener;Lcom/nd/dianjin/webservice/ServiceRequest;)Z
    .registers 6
    sget-object v0, Lcom/nd/dianjin/webservice/BusinessProcess$ResponseType;->Raw:Lcom/nd/dianjin/webservice/BusinessProcess$ResponseType;
    invoke-direct { p0, v0, p3, p4 }, Lcom/nd/dianjin/webservice/BusinessProcess;->a(Lcom/nd/dianjin/webservice/BusinessProcess$ResponseType;Lcom/nd/dianjin/webservice/BusinessProcess$ResponseListener;Lcom/nd/dianjin/webservice/ServiceRequest;)Z
    move-result v0
    return v0
.end method
