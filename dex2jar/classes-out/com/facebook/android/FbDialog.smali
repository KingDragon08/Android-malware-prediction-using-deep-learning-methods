.class public Lcom/facebook/android/FbDialog;
.super Landroid/app/Dialog;
.source "FbDialog.java"

.annotation system Ldalvik/annotation/MemberClasses;
    value = {
        Lcom/facebook/android/FbDialog$FbWebViewClient;
    }
.end annotation

.field final static DIMENSIONS_DIFF_LANDSCAPE:[F

.field final static DIMENSIONS_DIFF_PORTRAIT:[F

.field final static DISPLAY_STRING:Ljava/lang/String; = "touch"

.field final static FB_BLUE:I = -9599820

.field final static FB_ICON:Ljava/lang/String; = "icon.png"

.field final static FILL:Landroid/widget/FrameLayout$LayoutParams;

.field final static MARGIN:I = 4

.field final static PADDING:I = 2

.field private mContent:Landroid/widget/LinearLayout;

.field private mListener:Lcom/facebook/android/Facebook$DialogListener;

.field private mSpinner:Landroid/app/ProgressDialog;

.field private mTitle:Landroid/widget/TextView;

.field private mUrl:Ljava/lang/String;

.field private mWebView:Landroid/webkit/WebView;

.method static constructor <clinit>()V
    .registers 3
    .prologue
    const/4 v2, 2
    const/4 v1, -1
    .line 47
    new-array v0, v2, [F
    fill-array-data v0, :L0
    sput-object v0, Lcom/facebook/android/FbDialog;->DIMENSIONS_DIFF_LANDSCAPE:[F
    .line 48
    new-array v0, v2, [F
    fill-array-data v0, :L1
    sput-object v0, Lcom/facebook/android/FbDialog;->DIMENSIONS_DIFF_PORTRAIT:[F
    .line 50
    new-instance v0, Landroid/widget/FrameLayout$LayoutParams;
    invoke-direct { v0, v1, v1 }, Landroid/widget/FrameLayout$LayoutParams;-><init>(II)V
    .line 49
    sput-object v0, Lcom/facebook/android/FbDialog;->FILL:Landroid/widget/FrameLayout$LayoutParams;
    .line 44
    return-void
    .line 47
    .line 48
    :L0
    .array-data 4
        0t 0t -96t 65t
        0t 0t 112t 66t
    .end array-data
    :L1
    .array-data 4
        0t 0t 32t 66t
        0t 0t 112t 66t
    .end array-data
.end method

.method public constructor <init>(Landroid/content/Context;Ljava/lang/String;Lcom/facebook/android/Facebook$DialogListener;)V
    .registers 4
    .prologue
    .line 65
    invoke-direct { p0, p1 }, Landroid/app/Dialog;-><init>(Landroid/content/Context;)V
    .line 66
    iput-object p2, p0, Lcom/facebook/android/FbDialog;->mUrl:Ljava/lang/String;
    .line 67
    iput-object p3, p0, Lcom/facebook/android/FbDialog;->mListener:Lcom/facebook/android/Facebook$DialogListener;
    .line 68
    return-void
.end method

.method static synthetic access$0(Lcom/facebook/android/FbDialog;)Lcom/facebook/android/Facebook$DialogListener;
    .registers 2
    .prologue
    .line 58
    iget-object v0, p0, Lcom/facebook/android/FbDialog;->mListener:Lcom/facebook/android/Facebook$DialogListener;
    return-object v0
.end method

.method static synthetic access$1(Lcom/facebook/android/FbDialog;)Landroid/app/ProgressDialog;
    .registers 2
    .prologue
    .line 59
    iget-object v0, p0, Lcom/facebook/android/FbDialog;->mSpinner:Landroid/app/ProgressDialog;
    return-object v0
.end method

.method static synthetic access$2(Lcom/facebook/android/FbDialog;)Landroid/webkit/WebView;
    .registers 2
    .prologue
    .line 60
    iget-object v0, p0, Lcom/facebook/android/FbDialog;->mWebView:Landroid/webkit/WebView;
    return-object v0
.end method

.method static synthetic access$3(Lcom/facebook/android/FbDialog;)Landroid/widget/TextView;
    .registers 2
    .prologue
    .line 62
    iget-object v0, p0, Lcom/facebook/android/FbDialog;->mTitle:Landroid/widget/TextView;
    return-object v0
.end method

.method private setUpTitle()V
    .registers 7
    .prologue
    const/4 v5, 6
    const/4 v4, 0
    const/4 v3, 4
    .line 104
    const/4 v1, 1
    invoke-virtual { p0, v1 }, Lcom/facebook/android/FbDialog;->requestWindowFeature(I)Z
    .line 105
    invoke-virtual { p0 }, Lcom/facebook/android/FbDialog;->getContext()Landroid/content/Context;
    move-result-object v1
    invoke-virtual { v1 }, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
    move-result-object v1
    .line 106
    const v2, 2130837536
    .line 105
    invoke-virtual { v1, v2 }, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;
    move-result-object v0
    .line 107
    .local v0, icon:Landroid/graphics/drawable/Drawable;
    new-instance v1, Landroid/widget/TextView;
    invoke-virtual { p0 }, Lcom/facebook/android/FbDialog;->getContext()Landroid/content/Context;
    move-result-object v2
    invoke-direct { v1, v2 }, Landroid/widget/TextView;-><init>(Landroid/content/Context;)V
    iput-object v1, p0, Lcom/facebook/android/FbDialog;->mTitle:Landroid/widget/TextView;
    .line 108
    iget-object v1, p0, Lcom/facebook/android/FbDialog;->mTitle:Landroid/widget/TextView;
    const-string v2, "Facebook"
    invoke-virtual { v1, v2 }, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V
    .line 109
    iget-object v1, p0, Lcom/facebook/android/FbDialog;->mTitle:Landroid/widget/TextView;
    const/4 v2, -1
    invoke-virtual { v1, v2 }, Landroid/widget/TextView;->setTextColor(I)V
    .line 110
    iget-object v1, p0, Lcom/facebook/android/FbDialog;->mTitle:Landroid/widget/TextView;
    sget-object v2, Landroid/graphics/Typeface;->DEFAULT_BOLD:Landroid/graphics/Typeface;
    invoke-virtual { v1, v2 }, Landroid/widget/TextView;->setTypeface(Landroid/graphics/Typeface;)V
    .line 111
    iget-object v1, p0, Lcom/facebook/android/FbDialog;->mTitle:Landroid/widget/TextView;
    const v2, -9599820
    invoke-virtual { v1, v2 }, Landroid/widget/TextView;->setBackgroundColor(I)V
    .line 112
    iget-object v1, p0, Lcom/facebook/android/FbDialog;->mTitle:Landroid/widget/TextView;
    invoke-virtual { v1, v5, v3, v3, v3 }, Landroid/widget/TextView;->setPadding(IIII)V
    .line 113
    iget-object v1, p0, Lcom/facebook/android/FbDialog;->mTitle:Landroid/widget/TextView;
    invoke-virtual { v1, v5 }, Landroid/widget/TextView;->setCompoundDrawablePadding(I)V
    .line 114
    iget-object v1, p0, Lcom/facebook/android/FbDialog;->mTitle:Landroid/widget/TextView;
    invoke-virtual { v1, v0, v4, v4, v4 }, Landroid/widget/TextView;->setCompoundDrawablesWithIntrinsicBounds(Landroid/graphics/drawable/Drawable;Landroid/graphics/drawable/Drawable;Landroid/graphics/drawable/Drawable;Landroid/graphics/drawable/Drawable;)V
    .line 116
    iget-object v1, p0, Lcom/facebook/android/FbDialog;->mContent:Landroid/widget/LinearLayout;
    iget-object v2, p0, Lcom/facebook/android/FbDialog;->mTitle:Landroid/widget/TextView;
    invoke-virtual { v1, v2 }, Landroid/widget/LinearLayout;->addView(Landroid/view/View;)V
    .line 117
    return-void
.end method

.method private setUpWebView()V
    .registers 4
    .prologue
    const/4 v2, 0
    .line 120
    new-instance v0, Landroid/webkit/WebView;
    invoke-virtual { p0 }, Lcom/facebook/android/FbDialog;->getContext()Landroid/content/Context;
    move-result-object v1
    invoke-direct { v0, v1 }, Landroid/webkit/WebView;-><init>(Landroid/content/Context;)V
    iput-object v0, p0, Lcom/facebook/android/FbDialog;->mWebView:Landroid/webkit/WebView;
    .line 121
    iget-object v0, p0, Lcom/facebook/android/FbDialog;->mWebView:Landroid/webkit/WebView;
    invoke-virtual { v0, v2 }, Landroid/webkit/WebView;->setVerticalScrollBarEnabled(Z)V
    .line 122
    iget-object v0, p0, Lcom/facebook/android/FbDialog;->mWebView:Landroid/webkit/WebView;
    invoke-virtual { v0, v2 }, Landroid/webkit/WebView;->setHorizontalScrollBarEnabled(Z)V
    .line 123
    iget-object v0, p0, Lcom/facebook/android/FbDialog;->mWebView:Landroid/webkit/WebView;
    new-instance v1, Lcom/facebook/android/FbDialog$FbWebViewClient;
    const/4 v2, 0
    invoke-direct { v1, p0, v2 }, Lcom/facebook/android/FbDialog$FbWebViewClient;-><init>(Lcom/facebook/android/FbDialog;Lcom/facebook/android/FbDialog$FbWebViewClient;)V
    invoke-virtual { v0, v1 }, Landroid/webkit/WebView;->setWebViewClient(Landroid/webkit/WebViewClient;)V
    .line 124
    iget-object v0, p0, Lcom/facebook/android/FbDialog;->mWebView:Landroid/webkit/WebView;
    invoke-virtual { v0 }, Landroid/webkit/WebView;->getSettings()Landroid/webkit/WebSettings;
    move-result-object v0
    const/4 v1, 1
    invoke-virtual { v0, v1 }, Landroid/webkit/WebSettings;->setJavaScriptEnabled(Z)V
    .line 125
    iget-object v0, p0, Lcom/facebook/android/FbDialog;->mWebView:Landroid/webkit/WebView;
    iget-object v1, p0, Lcom/facebook/android/FbDialog;->mUrl:Ljava/lang/String;
    invoke-virtual { v0, v1 }, Landroid/webkit/WebView;->loadUrl(Ljava/lang/String;)V
    .line 126
    iget-object v0, p0, Lcom/facebook/android/FbDialog;->mWebView:Landroid/webkit/WebView;
    sget-object v1, Lcom/facebook/android/FbDialog;->FILL:Landroid/widget/FrameLayout$LayoutParams;
    invoke-virtual { v0, v1 }, Landroid/webkit/WebView;->setLayoutParams(Landroid/view/ViewGroup$LayoutParams;)V
    .line 127
    iget-object v0, p0, Lcom/facebook/android/FbDialog;->mContent:Landroid/widget/LinearLayout;
    iget-object v1, p0, Lcom/facebook/android/FbDialog;->mWebView:Landroid/webkit/WebView;
    invoke-virtual { v0, v1 }, Landroid/widget/LinearLayout;->addView(Landroid/view/View;)V
    .line 128
    return-void
.end method

.method protected onCreate(Landroid/os/Bundle;)V
    .registers 12
    .prologue
    const/high16 v9, 16128
    const/4 v8, 1
    .line 72
    invoke-super { p0, p1 }, Landroid/app/Dialog;->onCreate(Landroid/os/Bundle;)V
    .line 73
    new-instance v4, Landroid/app/ProgressDialog;
    invoke-virtual { p0 }, Lcom/facebook/android/FbDialog;->getContext()Landroid/content/Context;
    move-result-object v5
    invoke-direct { v4, v5 }, Landroid/app/ProgressDialog;-><init>(Landroid/content/Context;)V
    iput-object v4, p0, Lcom/facebook/android/FbDialog;->mSpinner:Landroid/app/ProgressDialog;
    .line 74
    iget-object v4, p0, Lcom/facebook/android/FbDialog;->mSpinner:Landroid/app/ProgressDialog;
    invoke-virtual { v4, v8 }, Landroid/app/ProgressDialog;->requestWindowFeature(I)Z
    .line 75
    iget-object v4, p0, Lcom/facebook/android/FbDialog;->mSpinner:Landroid/app/ProgressDialog;
    const-string v5, "Loading..."
    invoke-virtual { v4, v5 }, Landroid/app/ProgressDialog;->setMessage(Ljava/lang/CharSequence;)V
    .line 77
    new-instance v4, Landroid/widget/LinearLayout;
    invoke-virtual { p0 }, Lcom/facebook/android/FbDialog;->getContext()Landroid/content/Context;
    move-result-object v5
    invoke-direct { v4, v5 }, Landroid/widget/LinearLayout;-><init>(Landroid/content/Context;)V
    iput-object v4, p0, Lcom/facebook/android/FbDialog;->mContent:Landroid/widget/LinearLayout;
    .line 78
    iget-object v4, p0, Lcom/facebook/android/FbDialog;->mContent:Landroid/widget/LinearLayout;
    invoke-virtual { v4, v8 }, Landroid/widget/LinearLayout;->setOrientation(I)V
    .line 79
    invoke-direct { p0 }, Lcom/facebook/android/FbDialog;->setUpTitle()V
    .line 80
    invoke-direct { p0 }, Lcom/facebook/android/FbDialog;->setUpWebView()V
    .line 81
    invoke-virtual { p0 }, Lcom/facebook/android/FbDialog;->getWindow()Landroid/view/Window;
    move-result-object v4
    invoke-virtual { v4 }, Landroid/view/Window;->getWindowManager()Landroid/view/WindowManager;
    move-result-object v4
    invoke-interface { v4 }, Landroid/view/WindowManager;->getDefaultDisplay()Landroid/view/Display;
    move-result-object v1
    .line 83
    .local v1, display:Landroid/view/Display;
    invoke-virtual { p0 }, Lcom/facebook/android/FbDialog;->getContext()Landroid/content/Context;
    move-result-object v4
    invoke-virtual { v4 }, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
    move-result-object v4
    invoke-virtual { v4 }, Landroid/content/res/Resources;->getDisplayMetrics()Landroid/util/DisplayMetrics;
    move-result-object v4
    iget v3, v4, Landroid/util/DisplayMetrics;->density:F
    .line 85
    .local v3, scale:F
    invoke-virtual { p0 }, Lcom/facebook/android/FbDialog;->getContext()Landroid/content/Context;
    move-result-object v4
    invoke-virtual { v4 }, Landroid/content/Context;->getResources()Landroid/content/res/Resources;
    move-result-object v4
    invoke-virtual { v4 }, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;
    move-result-object v4
    iget v2, v4, Landroid/content/res/Configuration;->orientation:I
    .line 87
    .local v2, orientation:I
    const/4 v4, 2
    if-ne v2, v4, :L1
    .line 88
    sget-object v4, Lcom/facebook/android/FbDialog;->DIMENSIONS_DIFF_LANDSCAPE:[F
    move-object v0, v4
    :L0
    .line 89
    .local v0, dimensions:[F
    iget-object v4, p0, Lcom/facebook/android/FbDialog;->mContent:Landroid/widget/LinearLayout;
    new-instance v5, Landroid/widget/LinearLayout$LayoutParams;
    .line 90
    invoke-virtual { v1 }, Landroid/view/Display;->getWidth()I
    move-result v6
    const/4 v7, 0
    aget v7, v0, v7
    mul-float/2addr v7, v3
    add-float/2addr v7, v9
    float-to-int v7, v7
    sub-int/2addr v6, v7
    .line 91
    invoke-virtual { v1 }, Landroid/view/Display;->getHeight()I
    move-result v7
    aget v8, v0, v8
    mul-float/2addr v8, v3
    add-float/2addr v8, v9
    float-to-int v8, v8
    sub-int/2addr v7, v8
    invoke-direct { v5, v6, v7 }, Landroid/widget/LinearLayout$LayoutParams;-><init>(II)V
    .line 89
    invoke-virtual { p0, v4, v5 }, Lcom/facebook/android/FbDialog;->addContentView(Landroid/view/View;Landroid/view/ViewGroup$LayoutParams;)V
    .line 94
    new-instance v4, Lcom/facebook/android/FbDialog$1;
    invoke-direct { v4, p0 }, Lcom/facebook/android/FbDialog$1;-><init>(Lcom/facebook/android/FbDialog;)V
    invoke-virtual { p0, v4 }, Lcom/facebook/android/FbDialog;->setOnCancelListener(Landroid/content/DialogInterface$OnCancelListener;)V
    .line 101
    return-void
    :L1
    .line 88
    .end local v0
    sget-object v4, Lcom/facebook/android/FbDialog;->DIMENSIONS_DIFF_PORTRAIT:[F
    move-object v0, v4
    goto :L0
.end method
