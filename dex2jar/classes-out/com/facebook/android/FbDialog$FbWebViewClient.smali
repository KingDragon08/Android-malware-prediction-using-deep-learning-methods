.class Lcom/facebook/android/FbDialog$FbWebViewClient;
.super Landroid/webkit/WebViewClient;
.source "FbDialog.java"

.annotation system Ldalvik/annotation/EnclosingClass;
    value = Lcom/facebook/android/FbDialog;
.end annotation
.annotation system Ldalvik/annotation/InnerClass;
    accessFlags = 2
    name = "FbWebViewClient"
.end annotation

.field final synthetic this$0:Lcom/facebook/android/FbDialog;

.method private constructor <init>(Lcom/facebook/android/FbDialog;)V
    .registers 2
    .prologue
    .line 130
    iput-object p1, p0, Lcom/facebook/android/FbDialog$FbWebViewClient;->this$0:Lcom/facebook/android/FbDialog;
    invoke-direct { p0 }, Landroid/webkit/WebViewClient;-><init>()V
    return-void
.end method

.method synthetic constructor <init>(Lcom/facebook/android/FbDialog;Lcom/facebook/android/FbDialog$FbWebViewClient;)V
    .registers 3
    .prologue
    .line 130
    invoke-direct { p0, p1 }, Lcom/facebook/android/FbDialog$FbWebViewClient;-><init>(Lcom/facebook/android/FbDialog;)V
    return-void
.end method

.method public onPageFinished(Landroid/webkit/WebView;Ljava/lang/String;)V
    .registers 5
    .prologue
    .line 185
    invoke-super { p0, p1, p2 }, Landroid/webkit/WebViewClient;->onPageFinished(Landroid/webkit/WebView;Ljava/lang/String;)V
    .line 186
    iget-object v1, p0, Lcom/facebook/android/FbDialog$FbWebViewClient;->this$0:Lcom/facebook/android/FbDialog;
    invoke-static { v1 }, Lcom/facebook/android/FbDialog;->access$2(Lcom/facebook/android/FbDialog;)Landroid/webkit/WebView;
    move-result-object v1
    invoke-virtual { v1 }, Landroid/webkit/WebView;->getTitle()Ljava/lang/String;
    move-result-object v0
    .line 187
    .local v0, title:Ljava/lang/String;
    if-eqz v0, :L0
    invoke-virtual { v0 }, Ljava/lang/String;->length()I
    move-result v1
    if-lez v1, :L0
    .line 188
    iget-object v1, p0, Lcom/facebook/android/FbDialog$FbWebViewClient;->this$0:Lcom/facebook/android/FbDialog;
    invoke-static { v1 }, Lcom/facebook/android/FbDialog;->access$3(Lcom/facebook/android/FbDialog;)Landroid/widget/TextView;
    move-result-object v1
    invoke-virtual { v1, v0 }, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V
    :L0
    .line 190
    iget-object v1, p0, Lcom/facebook/android/FbDialog$FbWebViewClient;->this$0:Lcom/facebook/android/FbDialog;
    invoke-static { v1 }, Lcom/facebook/android/FbDialog;->access$1(Lcom/facebook/android/FbDialog;)Landroid/app/ProgressDialog;
    move-result-object v1
    invoke-virtual { v1 }, Landroid/app/ProgressDialog;->dismiss()V
    .line 191
    return-void
.end method

.method public onPageStarted(Landroid/webkit/WebView;Ljava/lang/String;Landroid/graphics/Bitmap;)V
    .registers 7
    .prologue
    .line 178
    const-string v0, "Facebook-WebView"
    new-instance v1, Ljava/lang/StringBuilder;
    const-string v2, "Webview loading URL: "
    invoke-direct { v1, v2 }, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
    invoke-virtual { v1, p2 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    move-result-object v1
    invoke-virtual { v1 }, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    move-result-object v1
    invoke-static { v0, v1 }, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
    .line 179
    invoke-super { p0, p1, p2, p3 }, Landroid/webkit/WebViewClient;->onPageStarted(Landroid/webkit/WebView;Ljava/lang/String;Landroid/graphics/Bitmap;)V
    .line 180
    iget-object v0, p0, Lcom/facebook/android/FbDialog$FbWebViewClient;->this$0:Lcom/facebook/android/FbDialog;
    invoke-static { v0 }, Lcom/facebook/android/FbDialog;->access$1(Lcom/facebook/android/FbDialog;)Landroid/app/ProgressDialog;
    move-result-object v0
    invoke-virtual { v0 }, Landroid/app/ProgressDialog;->show()V
    .line 181
    return-void
.end method

.method public onReceivedError(Landroid/webkit/WebView;ILjava/lang/String;Ljava/lang/String;)V
    .registers 7
    .prologue
    .line 170
    invoke-super { p0, p1, p2, p3, p4 }, Landroid/webkit/WebViewClient;->onReceivedError(Landroid/webkit/WebView;ILjava/lang/String;Ljava/lang/String;)V
    .line 171
    iget-object v0, p0, Lcom/facebook/android/FbDialog$FbWebViewClient;->this$0:Lcom/facebook/android/FbDialog;
    invoke-static { v0 }, Lcom/facebook/android/FbDialog;->access$0(Lcom/facebook/android/FbDialog;)Lcom/facebook/android/Facebook$DialogListener;
    move-result-object v0
    .line 172
    new-instance v1, Lcom/facebook/android/DialogError;
    invoke-direct { v1, p3, p2, p4 }, Lcom/facebook/android/DialogError;-><init>(Ljava/lang/String;ILjava/lang/String;)V
    .line 171
    invoke-interface { v0, v1 }, Lcom/facebook/android/Facebook$DialogListener;->onError(Lcom/facebook/android/DialogError;)V
    .line 173
    iget-object v0, p0, Lcom/facebook/android/FbDialog$FbWebViewClient;->this$0:Lcom/facebook/android/FbDialog;
    invoke-virtual { v0 }, Lcom/facebook/android/FbDialog;->dismiss()V
    .line 174
    return-void
.end method

.method public shouldOverrideUrlLoading(Landroid/webkit/WebView;Ljava/lang/String;)Z
    .registers 10
    .prologue
    const/4 v6, 1
    .line 134
    const-string v2, "Facebook-WebView"
    new-instance v3, Ljava/lang/StringBuilder;
    const-string v4, "Redirect URL: "
    invoke-direct { v3, v4 }, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
    invoke-virtual { v3, p2 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    move-result-object v3
    invoke-virtual { v3 }, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    move-result-object v3
    invoke-static { v2, v3 }, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I
    .line 135
    const-string v2, "fbconnect://success"
    invoke-virtual { p2, v2 }, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z
    move-result v2
    if-eqz v2, :L6
    .line 136
    invoke-static { p2 }, Lcom/facebook/android/Util;->parseUrl(Ljava/lang/String;)Landroid/os/Bundle;
    move-result-object v1
    .line 138
    .local v1, values:Landroid/os/Bundle;
    const-string v2, "error"
    invoke-virtual { v1, v2 }, Landroid/os/Bundle;->getString(Ljava/lang/String;)Ljava/lang/String;
    move-result-object v0
    .line 139
    .local v0, error:Ljava/lang/String;
    if-nez v0, :L0
    .line 140
    const-string v2, "error_type"
    invoke-virtual { v1, v2 }, Landroid/os/Bundle;->getString(Ljava/lang/String;)Ljava/lang/String;
    move-result-object v0
    :L0
    .line 143
    if-nez v0, :L3
    .line 144
    iget-object v2, p0, Lcom/facebook/android/FbDialog$FbWebViewClient;->this$0:Lcom/facebook/android/FbDialog;
    invoke-static { v2 }, Lcom/facebook/android/FbDialog;->access$0(Lcom/facebook/android/FbDialog;)Lcom/facebook/android/Facebook$DialogListener;
    move-result-object v2
    invoke-interface { v2, v1 }, Lcom/facebook/android/Facebook$DialogListener;->onComplete(Landroid/os/Bundle;)V
    :L1
    .line 152
    iget-object v2, p0, Lcom/facebook/android/FbDialog$FbWebViewClient;->this$0:Lcom/facebook/android/FbDialog;
    invoke-virtual { v2 }, Lcom/facebook/android/FbDialog;->dismiss()V
    move v2, v6
    :L2
    .line 164
    .end local v0
    .end local v1
    return v2
    :L3
    .line 145
    .restart local v0
    .restart local v1
    const-string v2, "access_denied"
    invoke-virtual { v0, v2 }, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    move-result v2
    if-nez v2, :L4
    .line 146
    const-string v2, "OAuthAccessDeniedException"
    invoke-virtual { v0, v2 }, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
    move-result v2
    if-eqz v2, :L5
    :L4
    .line 147
    iget-object v2, p0, Lcom/facebook/android/FbDialog$FbWebViewClient;->this$0:Lcom/facebook/android/FbDialog;
    invoke-static { v2 }, Lcom/facebook/android/FbDialog;->access$0(Lcom/facebook/android/FbDialog;)Lcom/facebook/android/Facebook$DialogListener;
    move-result-object v2
    invoke-interface { v2 }, Lcom/facebook/android/Facebook$DialogListener;->onCancel()V
    goto :L1
    :L5
    .line 149
    iget-object v2, p0, Lcom/facebook/android/FbDialog$FbWebViewClient;->this$0:Lcom/facebook/android/FbDialog;
    invoke-static { v2 }, Lcom/facebook/android/FbDialog;->access$0(Lcom/facebook/android/FbDialog;)Lcom/facebook/android/Facebook$DialogListener;
    move-result-object v2
    new-instance v3, Lcom/facebook/android/FacebookError;
    invoke-direct { v3, v0 }, Lcom/facebook/android/FacebookError;-><init>(Ljava/lang/String;)V
    invoke-interface { v2, v3 }, Lcom/facebook/android/Facebook$DialogListener;->onFacebookError(Lcom/facebook/android/FacebookError;)V
    goto :L1
    :L6
    .line 154
    .end local v0
    .end local v1
    const-string v2, "fbconnect://cancel"
    invoke-virtual { p2, v2 }, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z
    move-result v2
    if-eqz v2, :L7
    .line 155
    iget-object v2, p0, Lcom/facebook/android/FbDialog$FbWebViewClient;->this$0:Lcom/facebook/android/FbDialog;
    invoke-static { v2 }, Lcom/facebook/android/FbDialog;->access$0(Lcom/facebook/android/FbDialog;)Lcom/facebook/android/Facebook$DialogListener;
    move-result-object v2
    invoke-interface { v2 }, Lcom/facebook/android/Facebook$DialogListener;->onCancel()V
    .line 156
    iget-object v2, p0, Lcom/facebook/android/FbDialog$FbWebViewClient;->this$0:Lcom/facebook/android/FbDialog;
    invoke-virtual { v2 }, Lcom/facebook/android/FbDialog;->dismiss()V
    move v2, v6
    .line 157
    goto :L2
    :L7
    .line 158
    const-string v2, "touch"
    invoke-virtual { p2, v2 }, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
    move-result v2
    if-eqz v2, :L8
    .line 159
    const/4 v2, 0
    goto :L2
    :L8
    .line 162
    iget-object v2, p0, Lcom/facebook/android/FbDialog$FbWebViewClient;->this$0:Lcom/facebook/android/FbDialog;
    invoke-virtual { v2 }, Lcom/facebook/android/FbDialog;->getContext()Landroid/content/Context;
    move-result-object v2
    .line 163
    new-instance v3, Landroid/content/Intent;
    const-string v4, "android.intent.action.VIEW"
    invoke-static { p2 }, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;
    move-result-object v5
    invoke-direct { v3, v4, v5 }, Landroid/content/Intent;-><init>(Ljava/lang/String;Landroid/net/Uri;)V
    .line 162
    invoke-virtual { v2, v3 }, Landroid/content/Context;->startActivity(Landroid/content/Intent;)V
    move v2, v6
    .line 164
    goto :L2
.end method
