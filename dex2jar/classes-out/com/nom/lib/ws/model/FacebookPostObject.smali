.class public Lcom/nom/lib/ws/model/FacebookPostObject;
.super Ljava/lang/Object;
.source "FacebookPostObject.java"

.field public final static ATTACHMENTS_KEY:Ljava/lang/String; = "attachments"

.field public final static LB_NAME_KEY:Ljava/lang/String; = "name"

.field public final static OPTIONS_KEY:Ljava/lang/String; = "options"

.field public final static PICTURE_KEY:Ljava/lang/String; = "picture"

.field public final static PIC_FIELD_KEY:Ljava/lang/String; = "picField"

.field public final static TYPE_KEY:Ljava/lang/String; = "type"

.field public final static TYPE_SCORE:Ljava/lang/String; = "score"

.field public final static TYPE_SCORE_WITH_PICTURE:Ljava/lang/String; = "scoreWithPic"

.field private mParamsString:Ljava/lang/String;

.field private mType:Ljava/lang/String;

.method public constructor <init>(Ljava/lang/String;Ljava/lang/String;)V
    .registers 4
    .prologue
    const/4 v0, 0
    .line 33
    invoke-direct { p0 }, Ljava/lang/Object;-><init>()V
    .line 29
    iput-object v0, p0, Lcom/nom/lib/ws/model/FacebookPostObject;->mType:Ljava/lang/String;
    .line 30
    iput-object v0, p0, Lcom/nom/lib/ws/model/FacebookPostObject;->mParamsString:Ljava/lang/String;
    .line 34
    iput-object p2, p0, Lcom/nom/lib/ws/model/FacebookPostObject;->mParamsString:Ljava/lang/String;
    .line 35
    iput-object p1, p0, Lcom/nom/lib/ws/model/FacebookPostObject;->mType:Ljava/lang/String;
    .line 36
    return-void
.end method

.method public getType()Ljava/lang/String;
    .registers 2
    .prologue
    .line 42
    iget-object v0, p0, Lcom/nom/lib/ws/model/FacebookPostObject;->mType:Ljava/lang/String;
    return-object v0
.end method

.method public toMessageToSubmit()Ljava/lang/String;
    .catch Lorg/json/JSONException; { :L0 .. :L1 } :L13
    .catch Lorg/json/JSONException; { :L5 .. :L6 } :L12
    .catch Lorg/json/JSONException; { :L8 .. :L11 } :L13
    .registers 16
    .prologue
    .line 49
    const-string v5, "{}"
    .line 50
    .local v5, message:Ljava/lang/String;
    const-string v13, "score"
    iget-object v14, p0, Lcom/nom/lib/ws/model/FacebookPostObject;->mType:Ljava/lang/String;
    invoke-virtual { v13, v14 }, Ljava/lang/String;->equalsIgnoreCase(Ljava/lang/String;)Z
    move-result v13
    if-eqz v13, :L7
    .line 51
    new-instance v8, Lorg/json/JSONArray;
    invoke-direct { v8 }, Lorg/json/JSONArray;-><init>()V
    .line 52
    .local v8, postData:Lorg/json/JSONArray;
    new-instance v0, Lorg/json/JSONArray;
    invoke-direct { v0 }, Lorg/json/JSONArray;-><init>()V
    .line 53
    .local v0, attachments:Lorg/json/JSONArray;
    const-string v11, "score"
    .line 54
    .local v11, type:Ljava/lang/String;
    const/4 v12, 0
    :L0
    .line 56
    .local v12, withPics:Z
    new-instance v10, Lorg/json/JSONArray;
    iget-object v13, p0, Lcom/nom/lib/ws/model/FacebookPostObject;->mParamsString:Ljava/lang/String;
    invoke-direct { v10, v13 }, Lorg/json/JSONArray;-><init>(Ljava/lang/String;)V
    .line 57
    .local v10, scores:Lorg/json/JSONArray;
    invoke-virtual { v10 }, Lorg/json/JSONArray;->length()I
    :L1
    move-result v6
    .line 58
    .local v6, num:I
    const/4 v9, 0
    .line 59
    .local v9, score:Lorg/json/JSONObject;
    const/4 v7, 0
    .line 60
    .local v7, path:Ljava/lang/String;
    const/4 v4, 0
    .line 61
    .local v4, lbName:Ljava/lang/String;
    const/4 v1, 0
    .line 62
    .local v1, file:Ljava/io/File;
    const/4 v2, 0
    :L2
    .local v2, i:I
    if-lt v2, v6, :L8
    :L3
    .line 88
    .end local v1
    .end local v2
    .end local v4
    .end local v6
    .end local v7
    .end local v9
    .end local v10
    if-eqz v12, :L4
    .line 89
    const-string v11, "scoreWithPic"
    :L4
    .line 93
    new-instance v3, Lorg/json/JSONObject;
    invoke-direct { v3 }, Lorg/json/JSONObject;-><init>()V
    :L5
    .line 95
    .local v3, json:Lorg/json/JSONObject;
    const-string v13, "type"
    invoke-virtual { v3, v13, v11 }, Lorg/json/JSONObject;->put(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    .line 96
    const-string v13, "options"
    invoke-virtual { v3, v13, v8 }, Lorg/json/JSONObject;->put(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    .line 97
    const-string v13, "attachments"
    invoke-virtual { v3, v13, v0 }, Lorg/json/JSONObject;->put(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    .line 99
    invoke-virtual { v3 }, Lorg/json/JSONObject;->toString()Ljava/lang/String;
    :L6
    move-result-object v5
    :L7
    .line 106
    .end local v0
    .end local v3
    .end local v8
    .end local v11
    .end local v12
    return-object v5
    :L8
    .line 63
    .restart local v0
    .restart local v1
    .restart local v2
    .restart local v4
    .restart local v6
    .restart local v7
    .restart local v8
    .restart local v9
    .restart local v10
    .restart local v11
    .restart local v12
    invoke-virtual { v10, v2 }, Lorg/json/JSONArray;->getJSONObject(I)Lorg/json/JSONObject;
    move-result-object v9
    .line 64
    const-string v13, "type"
    invoke-virtual { v9, v13 }, Lorg/json/JSONObject;->optString(Ljava/lang/String;)Ljava/lang/String;
    move-result-object v4
    .line 65
    if-eqz v4, :L9
    .line 66
    const-string v13, "name"
    invoke-virtual { v9, v13, v4 }, Lorg/json/JSONObject;->put(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    .line 67
    const-string v13, "type"
    invoke-virtual { v9, v13 }, Lorg/json/JSONObject;->remove(Ljava/lang/String;)Ljava/lang/Object;
    :L9
    .line 69
    const-string v13, "picture"
    invoke-virtual { v9, v13 }, Lorg/json/JSONObject;->optString(Ljava/lang/String;)Ljava/lang/String;
    move-result-object v7
    .line 70
    if-eqz v7, :L10
    .line 71
    new-instance v1, Ljava/io/File;
    .end local v1
    invoke-direct { v1, v7 }, Ljava/io/File;-><init>(Ljava/lang/String;)V
    .line 72
    .restart local v1
    invoke-virtual { v1 }, Ljava/io/File;->exists()Z
    move-result v13
    if-eqz v13, :L10
    .line 73
    const-string v13, "picField"
    invoke-virtual { v1 }, Ljava/io/File;->getName()Ljava/lang/String;
    move-result-object v14
    invoke-virtual { v9, v13, v14 }, Lorg/json/JSONObject;->put(Ljava/lang/String;Ljava/lang/Object;)Lorg/json/JSONObject;
    .line 74
    const-string v13, "picture"
    invoke-virtual { v9, v13 }, Lorg/json/JSONObject;->remove(Ljava/lang/String;)Ljava/lang/Object;
    .line 75
    invoke-virtual { v0, v7 }, Lorg/json/JSONArray;->put(Ljava/lang/Object;)Lorg/json/JSONArray;
    .line 76
    const/4 v12, 1
    :L10
    .line 80
    invoke-virtual { v8, v9 }, Lorg/json/JSONArray;->put(Ljava/lang/Object;)Lorg/json/JSONArray;
    :L11
    .line 62
    add-int/lit8 v2, v2, 1
    goto :L2
    :L12
    .line 101
    .end local v1
    .end local v2
    .end local v4
    .end local v6
    .end local v7
    .end local v9
    .end local v10
    .restart local v3
    move-exception v13
    goto :L7
    :L13
    .line 83
    .end local v3
    move-exception v13
    goto :L3
.end method
