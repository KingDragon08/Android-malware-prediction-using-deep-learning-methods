.class public abstract Lcom/nom/lib/app/YGApplication;
.super Landroid/app/Application;
.source "YGApplication.java"

.field public final static ACTION_REQUEST_PLAYER_INFO:Ljava/lang/String; = "com.nom.lib.intent.action.REQUEST_PLAYER_INFO"

.field public final static ACTION_UPDATE_PLAYER_INFO:Ljava/lang/String; = "com.nom.lib.intent.action.UPDATE_PLAYER_INFO"

.field private final static DEFAULT_REVIEW_PROMPT_INTERVAL:I = 4

.field public final static INFO_DEVICE_ID:Ljava/lang/String; = "DeviceId"

.field public final static INFO_NICKNAME:Ljava/lang/String; = "Nickname"

.field public final static INFO_YOINK_ID:Ljava/lang/String; = "YoinkId"

.field public final static INFO_YOINK_TOKEN:Ljava/lang/String; = "YoinkToken"

.field public final static LB_BUTTON:I = 2

.field public final static LB_BUTTON_IMG_DEFAULT:I = 5

.field public final static LB_BUTTON_IMG_SELECTED:I = 6

.field public final static LB_FEED_G1:I = 4

.field public final static LB_FEED_MY_RANK:I = 3

.field public final static LB_NAME:I = 7

.field public final static LB_TYPE:I = 0

.field public final static LB_TYPE_STRING:I = 1

.field private final static NO_DEVICE_ID:Ljava/lang/String; = "n/a"

.field public final static REG_EMAIL:I = 1

.field public final static REG_FB:I = 2

.field public final static REG_NONE:I = 0

.field private final static TOKEN_FB_REGISTERED:Ljava/lang/String; = "|fb|"

.field private mAppReviewPromptInterval:I

.field mAppVersion:Ljava/lang/String;

.field private mBaseActivity:Lcom/nom/lib/app/YGBaseActivity;

.field private mDatabaseHelper:Lcom/nom/lib/database/YGDatabaseHelper;

.field private mDeviceId:Ljava/lang/String;

.field protected mG1Players:Ljava/util/HashMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/HashMap",
            "<",
            "Ljava/lang/Integer;",
            "Lcom/nom/lib/model/Player;",
            ">;"
        }
    .end annotation
.end field

.field private mImageCache:Lcom/nom/lib/database/ImageCache;

.field private mImageCacheMaxSize:I

.field private mLaunched:Z

.field protected mPlayer:Lcom/nom/lib/model/Player;

.field protected mPrefs:Lcom/nom/lib/app/Preferences;

.field private mRequestFactory:Lcom/nom/lib/ws/request/WSRequestFactory;

.field private mdbReadable:Landroid/database/sqlite/SQLiteDatabase;

.field private mdbWritable:Landroid/database/sqlite/SQLiteDatabase;

.field private mmgrPFEvents:Lcom/nom/lib/manager/YGPlatformEventManager;

.method public constructor <init>()V
    .registers 3
    .prologue
    const/4 v1, 0
    .line 31
    invoke-direct { p0 }, Landroid/app/Application;-><init>()V
    .line 33
    iput-object v1, p0, Lcom/nom/lib/app/YGApplication;->mPlayer:Lcom/nom/lib/model/Player;
    .line 34
    new-instance v0, Ljava/util/HashMap;
    invoke-direct { v0 }, Ljava/util/HashMap;-><init>()V
    iput-object v0, p0, Lcom/nom/lib/app/YGApplication;->mG1Players:Ljava/util/HashMap;
    .line 38
    iput-object v1, p0, Lcom/nom/lib/app/YGApplication;->mmgrPFEvents:Lcom/nom/lib/manager/YGPlatformEventManager;
    .line 40
    iput-object v1, p0, Lcom/nom/lib/app/YGApplication;->mBaseActivity:Lcom/nom/lib/app/YGBaseActivity;
    .line 42
    iput-object v1, p0, Lcom/nom/lib/app/YGApplication;->mDatabaseHelper:Lcom/nom/lib/database/YGDatabaseHelper;
    .line 43
    iput-object v1, p0, Lcom/nom/lib/app/YGApplication;->mdbWritable:Landroid/database/sqlite/SQLiteDatabase;
    .line 44
    iput-object v1, p0, Lcom/nom/lib/app/YGApplication;->mdbReadable:Landroid/database/sqlite/SQLiteDatabase;
    .line 46
    const v0, 2000000
    iput v0, p0, Lcom/nom/lib/app/YGApplication;->mImageCacheMaxSize:I
    .line 115
    const/4 v0, 0
    iput-boolean v0, p0, Lcom/nom/lib/app/YGApplication;->mLaunched:Z
    .line 362
    iput-object v1, p0, Lcom/nom/lib/app/YGApplication;->mDeviceId:Ljava/lang/String;
    .line 431
    const/4 v0, 4
    iput v0, p0, Lcom/nom/lib/app/YGApplication;->mAppReviewPromptInterval:I
    .line 580
    iput-object v1, p0, Lcom/nom/lib/app/YGApplication;->mAppVersion:Ljava/lang/String;
    .line 31
    return-void
.end method

.method private initPlayers()V
    .registers 11
    .prologue
    const/4 v9, 0
    .line 145
    invoke-virtual { p0 }, Lcom/nom/lib/app/YGApplication;->getPlayer()Lcom/nom/lib/model/Player;
    move-result-object v7
    iput-object v7, p0, Lcom/nom/lib/app/YGApplication;->mPlayer:Lcom/nom/lib/model/Player;
    .line 148
    iget-object v7, p0, Lcom/nom/lib/app/YGApplication;->mPrefs:Lcom/nom/lib/app/Preferences;
    invoke-virtual { v7 }, Lcom/nom/lib/app/Preferences;->getYoinkToken()Ljava/lang/String;
    move-result-object v6
    .line 149
    .local v6, yoinkToken:Ljava/lang/String;
    if-nez v6, :L0
    .line 151
    new-instance v0, Landroid/content/Intent;
    const-string v7, "com.nom.lib.intent.action.REQUEST_PLAYER_INFO"
    invoke-direct { v0, v7 }, Landroid/content/Intent;-><init>(Ljava/lang/String;)V
    .line 153
    .local v0, broadcastIntent:Landroid/content/Intent;
    invoke-virtual { p0, v0 }, Lcom/nom/lib/app/YGApplication;->sendBroadcast(Landroid/content/Intent;)V
    :L0
    .line 156
    .end local v0
    const/4 v4, 0
    .line 157
    .local v4, player:Lcom/nom/lib/model/Player;
    invoke-virtual { p0 }, Lcom/nom/lib/app/YGApplication;->getNumLeaderboardType()I
    move-result v3
    .line 158
    .local v3, numLeaderboardTypes:I
    invoke-virtual { p0 }, Lcom/nom/lib/app/YGApplication;->getLeaderboardTypeMetaData()[[I
    move-result-object v2
    .line 159
    .local v2, leaderboardTypes:[[I
    const/4 v1, 0
    :L1
    .local v1, i:I
    if-lt v1, v3, :L2
    .line 175
    return-void
    :L2
    .line 161
    new-instance v4, Lcom/nom/lib/model/Player;
    .end local v4
    invoke-direct { v4 }, Lcom/nom/lib/model/Player;-><init>()V
    .line 162
    .restart local v4
    invoke-virtual { v4, v9 }, Lcom/nom/lib/model/Player;->setYoinkId(I)V
    .line 163
    const-string v7, "Nobody"
    invoke-virtual { v4, v7 }, Lcom/nom/lib/model/Player;->setNickname(Ljava/lang/String;)V
    .line 164
    const-string v7, "Unknown"
    invoke-virtual { v4, v7 }, Lcom/nom/lib/model/Player;->setFirstName(Ljava/lang/String;)V
    .line 165
    const-string v7, "Name"
    invoke-virtual { v4, v7 }, Lcom/nom/lib/model/Player;->setLastName(Ljava/lang/String;)V
    .line 166
    new-instance v5, Lcom/nom/lib/model/Score;
    invoke-direct { v5 }, Lcom/nom/lib/model/Score;-><init>()V
    .line 167
    .local v5, score:Lcom/nom/lib/model/Score;
    invoke-virtual { v5, v9 }, Lcom/nom/lib/model/Score;->setYoinkId(I)V
    .line 168
    const/4 v7, 1
    invoke-virtual { v5, v7 }, Lcom/nom/lib/model/Score;->setScoreType(I)V
    .line 169
    const-wide/16 v7, 0
    invoke-virtual { v5, v7, v8 }, Lcom/nom/lib/model/Score;->setScore(J)V
    .line 170
    invoke-virtual { v4, v5 }, Lcom/nom/lib/model/Player;->setScore(Lcom/nom/lib/model/Score;)V
    .line 173
    iget-object v7, p0, Lcom/nom/lib/app/YGApplication;->mG1Players:Ljava/util/HashMap;
    aget-object v8, v2, v1
    aget v8, v8, v9
    invoke-static { v8 }, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
    move-result-object v8
    invoke-virtual { v7, v8, v4 }, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    .line 159
    add-int/lit8 v1, v1, 1
    goto :L1
.end method

.method public abstract getAdMobId()Ljava/lang/String;
.end method

.method public abstract getAppId()I
.end method

.method public abstract getAppName()Ljava/lang/String;
.end method

.method public getAppState(Ljava/lang/String;)Ljava/lang/String;
    .registers 12
    .prologue
    const/4 v2, 0
    .line 531
    iget-object v1, p0, Lcom/nom/lib/app/YGApplication;->mDatabaseHelper:Lcom/nom/lib/database/YGDatabaseHelper;
    invoke-virtual { v1 }, Lcom/nom/lib/database/YGDatabaseHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;
    move-result-object v0
    .line 533
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const/4 v9, 0
    .line 534
    .local v9, value:Ljava/lang/String;
    new-instance v1, Ljava/lang/StringBuilder;
    const-string v4, "tag='"
    invoke-direct { v1, v4 }, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
    invoke-virtual { v1, p1 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    move-result-object v1
    const-string v4, "'"
    invoke-virtual { v1, v4 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    move-result-object v1
    invoke-virtual { v1 }, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    move-result-object v3
    .line 535
    .local v3, where:Ljava/lang/String;
    const-string v1, "app_data"
    const-string v7, "modifieded_time DESC"
    move-object v4, v2
    move-object v5, v2
    move-object v6, v2
    invoke-virtual/range { v0 .. v7 }, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
    move-result-object v8
    .line 536
    .local v8, cur:Landroid/database/Cursor;
    if-eqz v8, :L1
    .line 537
    invoke-interface { v8 }, Landroid/database/Cursor;->moveToFirst()Z
    move-result v1
    if-eqz v1, :L0
    .line 538
    const-string v1, "value"
    invoke-interface { v8, v1 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v1
    invoke-interface { v8, v1 }, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
    move-result-object v9
    :L0
    .line 540
    invoke-interface { v8 }, Landroid/database/Cursor;->close()V
    :L1
    .line 543
    return-object v9
.end method

.method public abstract getAppTag()Ljava/lang/String;
.end method

.method public final getAppVersion()Ljava/lang/String;
    .catch Landroid/content/pm/PackageManager$NameNotFoundException; { :L0 .. :L1 } :L4
    .registers 8
    .prologue
    const/4 v6, 0
    .line 587
    iget-object v4, p0, Lcom/nom/lib/app/YGApplication;->mAppVersion:Ljava/lang/String;
    if-nez v4, :L3
    .line 588
    invoke-virtual { p0 }, Lcom/nom/lib/app/YGApplication;->getPackageManager()Landroid/content/pm/PackageManager;
    move-result-object v2
    .line 589
    .local v2, pm:Landroid/content/pm/PackageManager;
    const/4 v3, 0
    .line 591
    .local v3, version:Ljava/lang/String;
    const/4 v1, 0
    :L0
    .line 592
    .local v1, info:Landroid/content/pm/PackageInfo;
    invoke-virtual { p0 }, Lcom/nom/lib/app/YGApplication;->getPackageName()Ljava/lang/String;
    move-result-object v4
    const/4 v5, 0
    invoke-virtual { v2, v4, v5 }, Landroid/content/pm/PackageManager;->getPackageInfo(Ljava/lang/String;I)Landroid/content/pm/PackageInfo;
    move-result-object v1
    .line 593
    iget-object v3, v1, Landroid/content/pm/PackageInfo;->versionName:Ljava/lang/String;
    :L1
    .line 597
    if-eqz v3, :L3
    .line 598
    const-string v4, "."
    invoke-virtual { v3, v4 }, Ljava/lang/String;->indexOf(Ljava/lang/String;)I
    move-result v0
    .line 599
    .local v0, index:I
    if-lez v0, :L2
    .line 600
    const-string v4, "."
    add-int/lit8 v5, v0, 1
    invoke-virtual { v3, v4, v5 }, Ljava/lang/String;->indexOf(Ljava/lang/String;I)I
    move-result v0
    .line 601
    if-lez v0, :L2
    .line 602
    const-string v4, "."
    add-int/lit8 v5, v0, 1
    invoke-virtual { v3, v4, v5 }, Ljava/lang/String;->indexOf(Ljava/lang/String;I)I
    move-result v0
    .line 603
    if-lez v0, :L2
    .line 604
    invoke-virtual { v3, v6, v0 }, Ljava/lang/String;->substring(II)Ljava/lang/String;
    move-result-object v4
    iput-object v4, p0, Lcom/nom/lib/app/YGApplication;->mAppVersion:Ljava/lang/String;
    :L2
    .line 609
    iget-object v4, p0, Lcom/nom/lib/app/YGApplication;->mAppVersion:Ljava/lang/String;
    if-nez v4, :L3
    .line 610
    iput-object v3, p0, Lcom/nom/lib/app/YGApplication;->mAppVersion:Ljava/lang/String;
    :L3
    .line 615
    .end local v0
    .end local v1
    .end local v2
    .end local v3
    iget-object v4, p0, Lcom/nom/lib/app/YGApplication;->mAppVersion:Ljava/lang/String;
    return-object v4
    :L4
    .line 594
    .restart local v1
    .restart local v2
    .restart local v3
    move-exception v4
    goto :L1
.end method

.method public final getBaseActivity()Lcom/nom/lib/app/YGBaseActivity;
    .registers 2
    .prologue
    .line 330
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mBaseActivity:Lcom/nom/lib/app/YGBaseActivity;
    return-object v0
.end method

.method protected final getDatabaseHelper()Lcom/nom/lib/database/YGDatabaseHelper;
    .registers 3
    .prologue
    .line 245
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mDatabaseHelper:Lcom/nom/lib/database/YGDatabaseHelper;
    if-nez v0, :L0
    .line 246
    new-instance v0, Lcom/nom/lib/database/YGDatabaseHelper;
    invoke-virtual { p0 }, Lcom/nom/lib/app/YGApplication;->getApplicationContext()Landroid/content/Context;
    move-result-object v1
    invoke-direct { v0, v1 }, Lcom/nom/lib/database/YGDatabaseHelper;-><init>(Landroid/content/Context;)V
    iput-object v0, p0, Lcom/nom/lib/app/YGApplication;->mDatabaseHelper:Lcom/nom/lib/database/YGDatabaseHelper;
    :L0
    .line 249
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mDatabaseHelper:Lcom/nom/lib/database/YGDatabaseHelper;
    return-object v0
.end method

.method public abstract getDefaultAppConfigResId()I
.end method

.method public abstract getDefaultFeedsResId()I
.end method

.method public abstract getDefaultLeaderboardResId()I
.end method

.method public abstract getDefaultLeaderboardType()I
.end method

.method public final getDeviceId()Ljava/lang/String;
    .registers 4
    .prologue
    .line 369
    iget-object v1, p0, Lcom/nom/lib/app/YGApplication;->mPrefs:Lcom/nom/lib/app/Preferences;
    invoke-virtual { v1 }, Lcom/nom/lib/app/Preferences;->getDeviceId()Ljava/lang/String;
    move-result-object v1
    iput-object v1, p0, Lcom/nom/lib/app/YGApplication;->mDeviceId:Ljava/lang/String;
    .line 370
    iget-object v1, p0, Lcom/nom/lib/app/YGApplication;->mDeviceId:Ljava/lang/String;
    if-nez v1, :L2
    .line 371
    const-string v1, "phone"
    invoke-virtual { p0, v1 }, Lcom/nom/lib/app/YGApplication;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;
    move-result-object v0
    check-cast v0, Landroid/telephony/TelephonyManager;
    .line 372
    .local v0, teleMgr:Landroid/telephony/TelephonyManager;
    if-nez v0, :L0
    .line 373
    new-instance v1, Ljava/lang/IllegalArgumentException;
    const-string v2, "The given context cannot find the Telephony Manager"
    invoke-direct { v1, v2 }, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V
    throw v1
    :L0
    .line 375
    invoke-virtual { v0 }, Landroid/telephony/TelephonyManager;->getDeviceId()Ljava/lang/String;
    move-result-object v1
    iput-object v1, p0, Lcom/nom/lib/app/YGApplication;->mDeviceId:Ljava/lang/String;
    .line 378
    iget-object v1, p0, Lcom/nom/lib/app/YGApplication;->mDeviceId:Ljava/lang/String;
    if-nez v1, :L1
    .line 379
    invoke-static { }, Ljava/util/UUID;->randomUUID()Ljava/util/UUID;
    move-result-object v1
    invoke-virtual { v1 }, Ljava/util/UUID;->toString()Ljava/lang/String;
    move-result-object v1
    iput-object v1, p0, Lcom/nom/lib/app/YGApplication;->mDeviceId:Ljava/lang/String;
    :L1
    .line 382
    iget-object v1, p0, Lcom/nom/lib/app/YGApplication;->mPrefs:Lcom/nom/lib/app/Preferences;
    iget-object v2, p0, Lcom/nom/lib/app/YGApplication;->mDeviceId:Ljava/lang/String;
    invoke-virtual { v1, v2 }, Lcom/nom/lib/app/Preferences;->setDeviceId(Ljava/lang/String;)V
    :L2
    .line 385
    .end local v0
    iget-object v1, p0, Lcom/nom/lib/app/YGApplication;->mDeviceId:Ljava/lang/String;
    return-object v1
.end method

.method public getFBSession()Lcom/nom/lib/facebook/FBSession;
    .registers 2
    .prologue
    .line 301
    invoke-static { }, Lcom/nom/lib/facebook/FBSession;->getInstance()Lcom/nom/lib/facebook/FBSession;
    move-result-object v0
    return-object v0
.end method

.method public getGlobalRank1Player(I)Lcom/nom/lib/model/Player;
    .registers 4
    .prologue
    .line 224
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mG1Players:Ljava/util/HashMap;
    invoke-static { p1 }, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
    move-result-object v1
    invoke-virtual { v0, v1 }, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;
    move-result-object p0
    .end local p0
    check-cast p0, Lcom/nom/lib/model/Player;
    return-object p0
.end method

.method public final getImageCache()Lcom/nom/lib/database/ImageCache;
    .registers 2
    .prologue
    .line 286
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mImageCache:Lcom/nom/lib/database/ImageCache;
    return-object v0
.end method

.method public getLastPlayedLeaderboardType()I
    .registers 3
    .prologue
    .line 560
    iget-object v1, p0, Lcom/nom/lib/app/YGApplication;->mPrefs:Lcom/nom/lib/app/Preferences;
    if-nez v1, :L1
    .line 561
    invoke-virtual { p0 }, Lcom/nom/lib/app/YGApplication;->getPreferences()Lcom/nom/lib/app/Preferences;
    move-result-object v1
    if-nez v1, :L1
    .line 562
    invoke-virtual { p0 }, Lcom/nom/lib/app/YGApplication;->getDefaultLeaderboardType()I
    move-result v1
    :L0
    .line 571
    return v1
    :L1
    .line 566
    iget-object v1, p0, Lcom/nom/lib/app/YGApplication;->mPrefs:Lcom/nom/lib/app/Preferences;
    invoke-virtual { v1 }, Lcom/nom/lib/app/Preferences;->getGameTypePlayedLast()I
    move-result v0
    .line 567
    .local v0, lastType:I
    if-lez v0, :L2
    move v1, v0
    .line 568
    goto :L0
    :L2
    .line 571
    invoke-virtual { p0 }, Lcom/nom/lib/app/YGApplication;->getDefaultLeaderboardType()I
    move-result v1
    goto :L0
.end method

.method public abstract getLauncherActitityClass()Ljava/lang/Class;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "()",
            "Ljava/lang/Class",
            "<*>;"
        }
    .end annotation
.end method

.method public abstract getLeaderboardTypeMetaData()[[I
.end method

.method public abstract getNumLeaderboardType()I
.end method

.method public final getPFEventManager()Lcom/nom/lib/manager/YGPlatformEventManager;
    .registers 2
    .prologue
    .line 293
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mmgrPFEvents:Lcom/nom/lib/manager/YGPlatformEventManager;
    return-object v0
.end method

.method public final getPhoneNumber()Ljava/lang/String;
    .registers 5
    .prologue
    .line 394
    const/4 v0, 0
    .line 395
    .local v0, phoneNumber:Ljava/lang/String;
    const-string v2, "phone"
    invoke-virtual { p0, v2 }, Lcom/nom/lib/app/YGApplication;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;
    move-result-object v1
    check-cast v1, Landroid/telephony/TelephonyManager;
    .line 396
    .local v1, teleMgr:Landroid/telephony/TelephonyManager;
    if-nez v1, :L0
    .line 397
    new-instance v2, Ljava/lang/IllegalArgumentException;
    const-string v3, "The given context cannot find the Telephony Manager"
    invoke-direct { v2, v3 }, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V
    throw v2
    :L0
    .line 399
    invoke-virtual { v1 }, Landroid/telephony/TelephonyManager;->getLine1Number()Ljava/lang/String;
    move-result-object v0
    .line 401
    return-object v0
.end method

.method public getPlayer()Lcom/nom/lib/model/Player;
    .registers 3
    .prologue
    .line 183
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mPlayer:Lcom/nom/lib/model/Player;
    if-nez v0, :L0
    .line 184
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mPrefs:Lcom/nom/lib/app/Preferences;
    invoke-virtual { v0 }, Lcom/nom/lib/app/Preferences;->loadPlayer()Lcom/nom/lib/model/Player;
    move-result-object v0
    iput-object v0, p0, Lcom/nom/lib/app/YGApplication;->mPlayer:Lcom/nom/lib/model/Player;
    .line 185
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mPlayer:Lcom/nom/lib/model/Player;
    if-nez v0, :L0
    .line 186
    new-instance v0, Lcom/nom/lib/model/Player;
    invoke-direct { v0 }, Lcom/nom/lib/model/Player;-><init>()V
    iput-object v0, p0, Lcom/nom/lib/app/YGApplication;->mPlayer:Lcom/nom/lib/model/Player;
    .line 187
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mPlayer:Lcom/nom/lib/model/Player;
    const v1, 2130968581
    invoke-virtual { p0, v1 }, Lcom/nom/lib/app/YGApplication;->getString(I)Ljava/lang/String;
    move-result-object v1
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Player;->setNickname(Ljava/lang/String;)V
    :L0
    .line 191
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mPlayer:Lcom/nom/lib/model/Player;
    return-object v0
.end method

.method public final getPreferences()Lcom/nom/lib/app/Preferences;
    .registers 2
    .prologue
    .line 231
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mPrefs:Lcom/nom/lib/app/Preferences;
    if-nez v0, :L0
    .line 232
    new-instance v0, Lcom/nom/lib/app/Preferences;
    invoke-direct { v0, p0 }, Lcom/nom/lib/app/Preferences;-><init>(Landroid/content/Context;)V
    iput-object v0, p0, Lcom/nom/lib/app/YGApplication;->mPrefs:Lcom/nom/lib/app/Preferences;
    :L0
    .line 235
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mPrefs:Lcom/nom/lib/app/Preferences;
    return-object v0
.end method

.method public final getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;
    .registers 3
    .prologue
    .line 262
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mDatabaseHelper:Lcom/nom/lib/database/YGDatabaseHelper;
    if-nez v0, :L0
    .line 263
    new-instance v0, Lcom/nom/lib/database/YGDatabaseHelper;
    invoke-virtual { p0 }, Lcom/nom/lib/app/YGApplication;->getApplicationContext()Landroid/content/Context;
    move-result-object v1
    invoke-direct { v0, v1 }, Lcom/nom/lib/database/YGDatabaseHelper;-><init>(Landroid/content/Context;)V
    iput-object v0, p0, Lcom/nom/lib/app/YGApplication;->mDatabaseHelper:Lcom/nom/lib/database/YGDatabaseHelper;
    :L0
    .line 265
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mdbReadable:Landroid/database/sqlite/SQLiteDatabase;
    if-nez v0, :L1
    .line 266
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mDatabaseHelper:Lcom/nom/lib/database/YGDatabaseHelper;
    invoke-virtual { v0 }, Lcom/nom/lib/database/YGDatabaseHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;
    move-result-object v0
    iput-object v0, p0, Lcom/nom/lib/app/YGApplication;->mdbReadable:Landroid/database/sqlite/SQLiteDatabase;
    :L1
    .line 269
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mdbReadable:Landroid/database/sqlite/SQLiteDatabase;
    return-object v0
.end method

.method public getRequestFactory()Lcom/nom/lib/ws/request/WSRequestFactory;
    .registers 2
    .prologue
    .line 279
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mRequestFactory:Lcom/nom/lib/ws/request/WSRequestFactory;
    return-object v0
.end method

.method public final getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;
    .registers 3
    .prologue
    .line 252
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mDatabaseHelper:Lcom/nom/lib/database/YGDatabaseHelper;
    if-nez v0, :L0
    .line 253
    new-instance v0, Lcom/nom/lib/database/YGDatabaseHelper;
    invoke-virtual { p0 }, Lcom/nom/lib/app/YGApplication;->getApplicationContext()Landroid/content/Context;
    move-result-object v1
    invoke-direct { v0, v1 }, Lcom/nom/lib/database/YGDatabaseHelper;-><init>(Landroid/content/Context;)V
    iput-object v0, p0, Lcom/nom/lib/app/YGApplication;->mDatabaseHelper:Lcom/nom/lib/database/YGDatabaseHelper;
    :L0
    .line 255
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mdbWritable:Landroid/database/sqlite/SQLiteDatabase;
    if-nez v0, :L1
    .line 256
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mDatabaseHelper:Lcom/nom/lib/database/YGDatabaseHelper;
    invoke-virtual { v0 }, Lcom/nom/lib/database/YGDatabaseHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;
    move-result-object v0
    iput-object v0, p0, Lcom/nom/lib/app/YGApplication;->mdbWritable:Landroid/database/sqlite/SQLiteDatabase;
    :L1
    .line 259
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mdbWritable:Landroid/database/sqlite/SQLiteDatabase;
    return-object v0
.end method

.method public isLaunched()Z
    .registers 2
    .prologue
    .line 128
    iget-boolean v0, p0, Lcom/nom/lib/app/YGApplication;->mLaunched:Z
    return v0
.end method

.method public isPaid()Z
    .registers 2
    .prologue
    .line 473
    const/4 v0, 0
    return v0
.end method

.method public isRegisteredPlayer()I
    .registers 3
    .prologue
    .line 206
    iget-object v1, p0, Lcom/nom/lib/app/YGApplication;->mPrefs:Lcom/nom/lib/app/Preferences;
    invoke-virtual { v1 }, Lcom/nom/lib/app/Preferences;->getYoinkToken()Ljava/lang/String;
    move-result-object v0
    .line 209
    .local v0, token:Ljava/lang/String;
    if-nez v0, :L1
    .line 210
    const/4 v1, 0
    :L0
    .line 218
    return v1
    :L1
    .line 214
    const-string v1, "|fb|"
    invoke-virtual { v0, v1 }, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
    move-result v1
    if-eqz v1, :L2
    .line 215
    const/4 v1, 2
    goto :L0
    :L2
    .line 218
    const/4 v1, 1
    goto :L0
.end method

.method public markLaunched()V
    .registers 2
    .prologue
    .line 120
    const/4 v0, 1
    iput-boolean v0, p0, Lcom/nom/lib/app/YGApplication;->mLaunched:Z
    .line 121
    return-void
.end method

.method public neverPromptAppReview()V
    .registers 3
    .prologue
    .line 455
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mPrefs:Lcom/nom/lib/app/Preferences;
    const/4 v1, -1
    invoke-virtual { v0, v1 }, Lcom/nom/lib/app/Preferences;->setReviewPromptStatus(I)V
    .line 456
    return-void
.end method

.method public onCreate()V
    .registers 4
    .prologue
    .line 74
    invoke-super { p0 }, Landroid/app/Application;->onCreate()V
    .line 77
    new-instance v0, Lcom/nom/lib/ws/request/WSRequestFactory;
    invoke-direct { v0, p0 }, Lcom/nom/lib/ws/request/WSRequestFactory;-><init>(Landroid/app/Application;)V
    iput-object v0, p0, Lcom/nom/lib/app/YGApplication;->mRequestFactory:Lcom/nom/lib/ws/request/WSRequestFactory;
    .line 78
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mRequestFactory:Lcom/nom/lib/ws/request/WSRequestFactory;
    invoke-virtual { v0 }, Lcom/nom/lib/ws/request/WSRequestFactory;->init()V
    .line 81
    new-instance v0, Lcom/nom/lib/database/ImageCache;
    const-string v1, "external_images"
    iget v2, p0, Lcom/nom/lib/app/YGApplication;->mImageCacheMaxSize:I
    invoke-direct { v0, p0, v1, v2 }, Lcom/nom/lib/database/ImageCache;-><init>(Landroid/content/Context;Ljava/lang/String;I)V
    iput-object v0, p0, Lcom/nom/lib/app/YGApplication;->mImageCache:Lcom/nom/lib/database/ImageCache;
    .line 82
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mImageCache:Lcom/nom/lib/database/ImageCache;
    invoke-virtual { v0 }, Lcom/nom/lib/database/ImageCache;->open()Lcom/nom/lib/database/ImageCache;
    .line 85
    invoke-static { p0 }, Lcom/nom/lib/facebook/FBSession;->createInstance(Landroid/content/Context;)V
    .line 88
    invoke-static { p0 }, Lcom/nom/lib/manager/YGLogManager;->createInstance(Lcom/nom/lib/app/YGApplication;)V
    .line 91
    new-instance v0, Lcom/nom/lib/manager/YGPlatformEventManager;
    invoke-direct { v0 }, Lcom/nom/lib/manager/YGPlatformEventManager;-><init>()V
    iput-object v0, p0, Lcom/nom/lib/app/YGApplication;->mmgrPFEvents:Lcom/nom/lib/manager/YGPlatformEventManager;
    .line 94
    invoke-direct { p0 }, Lcom/nom/lib/app/YGApplication;->initPlayers()V
    .line 95
    return-void
.end method

.method public onLowMemory()V
    .registers 1
    .prologue
    .line 136
    invoke-super { p0 }, Landroid/app/Application;->onLowMemory()V
    .line 137
    return-void
.end method

.method public onTerminate()V
    .registers 2
    .prologue
    .line 102
    invoke-super { p0 }, Landroid/app/Application;->onTerminate()V
    .line 106
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mDatabaseHelper:Lcom/nom/lib/database/YGDatabaseHelper;
    if-eqz v0, :L0
    .line 107
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mDatabaseHelper:Lcom/nom/lib/database/YGDatabaseHelper;
    invoke-virtual { v0 }, Lcom/nom/lib/database/YGDatabaseHelper;->close()V
    :L0
    .line 110
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mmgrPFEvents:Lcom/nom/lib/manager/YGPlatformEventManager;
    if-eqz v0, :L1
    .line 111
    const/4 v0, 0
    iput-object v0, p0, Lcom/nom/lib/app/YGApplication;->mmgrPFEvents:Lcom/nom/lib/manager/YGPlatformEventManager;
    :L1
    .line 113
    return-void
.end method

.method public resetPromptAppReview()V
    .registers 3
    .prologue
    .line 463
    iget-object v0, p0, Lcom/nom/lib/app/YGApplication;->mPrefs:Lcom/nom/lib/app/Preferences;
    const/4 v1, 0
    invoke-virtual { v0, v1 }, Lcom/nom/lib/app/Preferences;->setReviewPromptStatus(I)V
    .line 464
    return-void
.end method

.method public setAppState(Ljava/lang/String;Ljava/lang/String;)V
    .registers 4
    .prologue
    .line 522
    const-string v0, "text"
    invoke-virtual { p0, p1, p2, v0 }, Lcom/nom/lib/app/YGApplication;->setAppState(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
    .line 523
    return-void
.end method

.method public setAppState(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V
    .registers 24
    .prologue
    .line 485
    const/4 v14, 0
    .line 486
    .local v14, curVal:Ljava/lang/String;
    move-object/from16 v0, p0
    iget-object v0, v0, Lcom/nom/lib/app/YGApplication;->mDatabaseHelper:Lcom/nom/lib/database/YGDatabaseHelper;
    move-object v6, v0
    invoke-virtual { v6 }, Lcom/nom/lib/database/YGDatabaseHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;
    move-result-object v5
    .line 487
    .local v5, db:Landroid/database/sqlite/SQLiteDatabase;
    new-instance v6, Ljava/lang/StringBuilder;
    const-string v7, "tag='"
    invoke-direct { v6, v7 }, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
    move-object v0, v6
    move-object/from16 v1, p1
    invoke-virtual { v0, v1 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    move-result-object v6
    const-string v7, "'"
    invoke-virtual { v6, v7 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    move-result-object v6
    invoke-virtual { v6 }, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    move-result-object v8
    .line 488
    .local v8, where:Ljava/lang/String;
    const-string v6, "app_data"
    const/4 v7, 0
    const/4 v9, 0
    const/4 v10, 0
    const/4 v11, 0
    const-string v12, "modifieded_time DESC"
    invoke-virtual/range { v5 .. v12 }, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
    move-result-object v13
    .line 489
    .local v13, cur:Landroid/database/Cursor;
    if-eqz v13, :L1
    .line 490
    invoke-interface { v13 }, Landroid/database/Cursor;->moveToFirst()Z
    move-result v6
    if-eqz v6, :L0
    .line 491
    const-string v6, "value"
    invoke-interface { v13, v6 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v6
    invoke-interface { v13, v6 }, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
    move-result-object v14
    :L0
    .line 493
    invoke-interface { v13 }, Landroid/database/Cursor;->close()V
    :L1
    .line 496
    const-wide/16 v17, 0
    .line 497
    .local v17, recId:J
    invoke-static { }, Ljava/lang/System;->currentTimeMillis()J
    move-result-wide v15
    .line 498
    .local v15, now:J
    new-instance v19, Landroid/content/ContentValues;
    invoke-direct/range { v19 .. v19 }, Landroid/content/ContentValues;-><init>()V
    .line 499
    .local v19, values:Landroid/content/ContentValues;
    if-nez v14, :L3
    .line 500
    const-string v6, "tag"
    move-object/from16 v0, v19
    move-object v1, v6
    move-object/from16 v2, p1
    invoke-virtual { v0, v1, v2 }, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
    .line 501
    const-string v6, "value"
    move-object/from16 v0, v19
    move-object v1, v6
    move-object/from16 v2, p2
    invoke-virtual { v0, v1, v2 }, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
    .line 502
    const-string v6, "type"
    move-object/from16 v0, v19
    move-object v1, v6
    move-object/from16 v2, p3
    invoke-virtual { v0, v1, v2 }, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
    .line 503
    const-string v6, "created_time"
    invoke-static/range { v15 .. v16 }, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
    move-result-object v7
    move-object/from16 v0, v19
    move-object v1, v6
    move-object v2, v7
    invoke-virtual { v0, v1, v2 }, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V
    .line 504
    const-string v6, "modifieded_time"
    invoke-static/range { v15 .. v16 }, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
    move-result-object v7
    move-object/from16 v0, v19
    move-object v1, v6
    move-object v2, v7
    invoke-virtual { v0, v1, v2 }, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V
    .line 506
    const-string v6, "app_data"
    const/4 v7, 0
    move-object v0, v5
    move-object v1, v6
    move-object v2, v7
    move-object/from16 v3, v19
    invoke-virtual { v0, v1, v2, v3 }, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J
    move-result-wide v17
    :L2
    .line 520
    return-void
    :L3
    .line 512
    const-string v6, "value"
    move-object/from16 v0, v19
    move-object v1, v6
    move-object/from16 v2, p2
    invoke-virtual { v0, v1, v2 }, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V
    .line 513
    const-string v6, "modifieded_time"
    invoke-static/range { v15 .. v16 }, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
    move-result-object v7
    move-object/from16 v0, v19
    move-object v1, v6
    move-object v2, v7
    invoke-virtual { v0, v1, v2 }, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V
    .line 515
    const-string v6, "app_data"
    const/4 v7, 0
    move-object v0, v5
    move-object v1, v6
    move-object/from16 v2, v19
    move-object v3, v8
    move-object v4, v7
    invoke-virtual { v0, v1, v2, v3, v4 }, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    move-result v6
    move v0, v6
    int-to-long v0, v0
    move-wide/from16 v17, v0
    goto :L2
.end method

.method public setBaseActivity(Lcom/nom/lib/app/YGBaseActivity;)V
    .registers 4
    .prologue
    .line 315
    if-nez p1, :L0
    .line 316
    new-instance v0, Ljava/lang/IllegalArgumentException;
    const-string v1, "The argument 'activity' cannot be null"
    invoke-direct { v0, v1 }, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V
    throw v0
    :L0
    .line 319
    iput-object p1, p0, Lcom/nom/lib/app/YGApplication;->mBaseActivity:Lcom/nom/lib/app/YGBaseActivity;
    .line 320
    return-void
.end method

.method public shouldPromptAppReview()Z
    .registers 6
    .prologue
    const/4 v4, 0
    .line 433
    iget-object v2, p0, Lcom/nom/lib/app/YGApplication;->mPrefs:Lcom/nom/lib/app/Preferences;
    invoke-virtual { v2 }, Lcom/nom/lib/app/Preferences;->getReviewPromptStatus()I
    move-result v0
    .line 435
    .local v0, curStatus:I
    if-gez v0, :L1
    move v2, v4
    :L0
    .line 446
    return v2
    :L1
    .line 439
    add-int/lit8 v2, v0, 1
    iget v3, p0, Lcom/nom/lib/app/YGApplication;->mAppReviewPromptInterval:I
    rem-int v1, v2, v3
    .line 440
    .local v1, nextStatus:I
    iget-object v2, p0, Lcom/nom/lib/app/YGApplication;->mPrefs:Lcom/nom/lib/app/Preferences;
    invoke-virtual { v2, v1 }, Lcom/nom/lib/app/Preferences;->setReviewPromptStatus(I)V
    .line 442
    if-nez v1, :L2
    .line 443
    const/4 v2, 1
    goto :L0
    :L2
    move v2, v4
    .line 446
    goto :L0
.end method

.method public showAbout(Landroid/content/Context;)V
    .catch Landroid/content/pm/PackageManager$NameNotFoundException; { :L0 .. :L1 } :L2
    .registers 10
    .prologue
    .line 625
    invoke-virtual { p0 }, Lcom/nom/lib/app/YGApplication;->getPackageManager()Landroid/content/pm/PackageManager;
    move-result-object v3
    .line 626
    .local v3, pm:Landroid/content/pm/PackageManager;
    const-string v4, ""
    .line 628
    .local v4, version:Ljava/lang/String;
    const/4 v2, 0
    :L0
    .line 629
    .local v2, info:Landroid/content/pm/PackageInfo;
    invoke-virtual { p0 }, Lcom/nom/lib/app/YGApplication;->getPackageName()Ljava/lang/String;
    move-result-object v6
    const/4 v7, 0
    invoke-virtual { v3, v6, v7 }, Landroid/content/pm/PackageManager;->getPackageInfo(Ljava/lang/String;I)Landroid/content/pm/PackageInfo;
    move-result-object v2
    .line 630
    iget-object v4, v2, Landroid/content/pm/PackageInfo;->versionName:Ljava/lang/String;
    :L1
    .line 633
    new-instance v6, Ljava/lang/StringBuilder;
    const-string v7, "Ver."
    invoke-direct { v6, v7 }, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
    invoke-virtual { v6, v4 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    move-result-object v6
    invoke-virtual { v6 }, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    move-result-object v5
    .line 634
    .local v5, versionName:Ljava/lang/String;
    invoke-virtual { p0 }, Lcom/nom/lib/app/YGApplication;->getResources()Landroid/content/res/Resources;
    move-result-object v6
    const v7, 2130968580
    invoke-virtual { v6, v7 }, Landroid/content/res/Resources;->getString(I)Ljava/lang/String;
    move-result-object v0
    .line 636
    .local v0, copyright:Ljava/lang/String;
    new-instance v1, Landroid/app/AlertDialog$Builder;
    invoke-direct { v1, p1 }, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V
    .line 637
    .local v1, dialog:Landroid/app/AlertDialog$Builder;
    new-instance v6, Ljava/lang/StringBuilder;
    invoke-virtual { p0 }, Lcom/nom/lib/app/YGApplication;->getAppName()Ljava/lang/String;
    move-result-object v7
    invoke-static { v7 }, Ljava/lang/String;->valueOf(Ljava/lang/Object;)Ljava/lang/String;
    move-result-object v7
    invoke-direct { v6, v7 }, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
    const-string v7, " "
    invoke-virtual { v6, v7 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    move-result-object v6
    invoke-virtual { v6, v5 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    move-result-object v6
    invoke-virtual { v6 }, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    move-result-object v6
    invoke-virtual { v1, v6 }, Landroid/app/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;
    .line 638
    invoke-virtual { v1, v0 }, Landroid/app/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;
    .line 639
    invoke-virtual { v1 }, Landroid/app/AlertDialog$Builder;->create()Landroid/app/AlertDialog;
    .line 640
    invoke-virtual { v1 }, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;
    .line 641
    return-void
    :L2
    .line 631
    .end local v0
    .end local v1
    .end local v5
    move-exception v6
    goto :L1
.end method
