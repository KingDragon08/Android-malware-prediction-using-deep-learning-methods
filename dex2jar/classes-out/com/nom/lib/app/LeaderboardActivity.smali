.class public Lcom/nom/lib/app/LeaderboardActivity;
.super Landroid/app/Activity;
.implements Lcom/nom/lib/ws/request/WSRequest$IWSRequestCallback;
.source "LeaderboardActivity.java"

.field public final static CLICK_BACK:I = 1

.field public final static CLICK_NEXT:I = 2

.field public final static EXIT_TYPE:Ljava/lang/String; = "ExitType"

.field public final static LAYOUT_ID:Ljava/lang/String; = "LayoutId"

.field public final static LEADERBOARD_TYPE:Ljava/lang/String; = "LeaderboardType"

.field public final static LOG_TAG_PREFIX:Ljava/lang/String; = "leaderboard"

.field protected mID_LAYOUT_LEADERBOARD_ITEM:I

.field protected mID_LAYOUT_LEADERBOARD_SCREEN:I

.field private mLayoutId:I

.field private mLeaderboardType:I

.field private mLeaders:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList",
            "<",
            "Lcom/nom/lib/model/Player;",
            ">;"
        }
    .end annotation
.end field

.field private mbtnBack:Landroid/widget/ImageButton;

.field private mbtnNext:Landroid/widget/ImageButton;

.field private mflpFeed:Landroid/widget/ViewFlipper;

.field protected mlbTypeButtons:Ljava/util/HashMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/HashMap",
            "<",
            "Landroid/widget/ImageButton;",
            "Ljava/lang/Integer;",
            ">;"
        }
    .end annotation
.end field

.field protected mlbTypeNames:Ljava/util/HashMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/HashMap",
            "<",
            "Ljava/lang/Integer;",
            "Ljava/lang/String;",
            ">;"
        }
    .end annotation
.end field

.field protected mlistenerOnClickType:Landroid/view/View$OnClickListener;

.field private mlvAdapter:Lcom/nom/lib/adapter/LeaderboardArrayAdapterFlip;

.field private mlvLeaderboard:Landroid/widget/ListView;

.field private mrequestGlobalRankTops:Lcom/nom/lib/ws/request/WSRequest;

.method public constructor <init>()V
    .registers 2
    .prologue
    .line 56
    invoke-direct { p0 }, Landroid/app/Activity;-><init>()V
    .line 62
    const v0, 2131099653
    iput v0, p0, Lcom/nom/lib/app/LeaderboardActivity;->mID_LAYOUT_LEADERBOARD_SCREEN:I
    .line 63
    const v0, 2131099652
    iput v0, p0, Lcom/nom/lib/app/LeaderboardActivity;->mID_LAYOUT_LEADERBOARD_ITEM:I
    .line 75
    const/4 v0, 0
    iput v0, p0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaderboardType:I
    .line 77
    iget v0, p0, Lcom/nom/lib/app/LeaderboardActivity;->mID_LAYOUT_LEADERBOARD_SCREEN:I
    iput v0, p0, Lcom/nom/lib/app/LeaderboardActivity;->mLayoutId:I
    .line 81
    new-instance v0, Ljava/util/HashMap;
    invoke-direct { v0 }, Ljava/util/HashMap;-><init>()V
    iput-object v0, p0, Lcom/nom/lib/app/LeaderboardActivity;->mlbTypeNames:Ljava/util/HashMap;
    .line 82
    new-instance v0, Ljava/util/HashMap;
    invoke-direct { v0 }, Ljava/util/HashMap;-><init>()V
    iput-object v0, p0, Lcom/nom/lib/app/LeaderboardActivity;->mlbTypeButtons:Ljava/util/HashMap;
    .line 88
    new-instance v0, Ljava/util/ArrayList;
    invoke-direct { v0 }, Ljava/util/ArrayList;-><init>()V
    iput-object v0, p0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaders:Ljava/util/ArrayList;
    .line 166
    new-instance v0, Lcom/nom/lib/app/LeaderboardActivity$1;
    invoke-direct { v0, p0 }, Lcom/nom/lib/app/LeaderboardActivity$1;-><init>(Lcom/nom/lib/app/LeaderboardActivity;)V
    iput-object v0, p0, Lcom/nom/lib/app/LeaderboardActivity;->mlistenerOnClickType:Landroid/view/View$OnClickListener;
    .line 56
    return-void
.end method

.method static synthetic access$0(Lcom/nom/lib/app/LeaderboardActivity;)I
    .registers 2
    .prologue
    .line 75
    iget v0, p0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaderboardType:I
    return v0
.end method

.method static synthetic access$1(Lcom/nom/lib/app/LeaderboardActivity;I)V
    .registers 2
    .prologue
    .line 287
    invoke-direct { p0, p1 }, Lcom/nom/lib/app/LeaderboardActivity;->switchLeaderboard(I)V
    return-void
.end method

.method private init()V
    .registers 15
    .prologue
    const/4 v13, 0
    .line 191
    invoke-virtual { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->getApplication()Landroid/app/Application;
    move-result-object v1
    check-cast v1, Lcom/nom/lib/app/YGApplication;
    .line 192
    .local v1, app:Lcom/nom/lib/app/YGApplication;
    invoke-virtual { v1 }, Lcom/nom/lib/app/YGApplication;->getNumLeaderboardType()I
    move-result v6
    .line 193
    .local v6, numLeaderboardTypes:I
    invoke-virtual { v1 }, Lcom/nom/lib/app/YGApplication;->getLeaderboardTypeMetaData()[[I
    move-result-object v5
    .line 194
    .local v5, leaderboardTypes:[[I
    invoke-virtual { v1 }, Lcom/nom/lib/app/YGApplication;->getLastPlayedLeaderboardType()I
    move-result v8
    .line 195
    .local v8, typeLeaderboard:I
    invoke-virtual { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->getIntent()Landroid/content/Intent;
    move-result-object v4
    .line 196
    .local v4, intent:Landroid/content/Intent;
    if-eqz v4, :L0
    .line 197
    const-string v9, "LeaderboardType"
    invoke-virtual { v4, v9, v8 }, Landroid/content/Intent;->getIntExtra(Ljava/lang/String;I)I
    move-result v8
    .line 198
    const-string v9, "LayoutId"
    iget v10, p0, Lcom/nom/lib/app/LeaderboardActivity;->mID_LAYOUT_LEADERBOARD_SCREEN:I
    invoke-virtual { v4, v9, v10 }, Landroid/content/Intent;->getIntExtra(Ljava/lang/String;I)I
    move-result v9
    iput v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mLayoutId:I
    :L0
    .line 202
    iget v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mLayoutId:I
    invoke-virtual { p0, v9 }, Lcom/nom/lib/app/LeaderboardActivity;->setContentView(I)V
    .line 205
    const/4 v2, 0
    .line 206
    .local v2, btn:Landroid/widget/ImageButton;
    invoke-virtual { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->getResources()Landroid/content/res/Resources;
    move-result-object v7
    .line 207
    .local v7, res:Landroid/content/res/Resources;
    const/4 v3, 0
    :L1
    .local v3, i:I
    if-lt v3, v6, :L3
    .line 219
    const v9, 2131427385
    invoke-virtual { p0, v9 }, Lcom/nom/lib/app/LeaderboardActivity;->findViewById(I)Landroid/view/View;
    move-result-object v9
    check-cast v9, Landroid/widget/ImageButton;
    iput-object v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mbtnNext:Landroid/widget/ImageButton;
    .line 220
    iget-object v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mbtnNext:Landroid/widget/ImageButton;
    new-instance v10, Lcom/nom/lib/app/LeaderboardActivity$2;
    invoke-direct { v10, p0 }, Lcom/nom/lib/app/LeaderboardActivity$2;-><init>(Lcom/nom/lib/app/LeaderboardActivity;)V
    invoke-virtual { v9, v10 }, Landroid/widget/ImageButton;->setOnClickListener(Landroid/view/View$OnClickListener;)V
    .line 237
    const v9, 2131427394
    invoke-virtual { p0, v9 }, Lcom/nom/lib/app/LeaderboardActivity;->findViewById(I)Landroid/view/View;
    move-result-object v9
    check-cast v9, Landroid/widget/ImageButton;
    iput-object v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mbtnBack:Landroid/widget/ImageButton;
    .line 238
    iget-object v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mbtnBack:Landroid/widget/ImageButton;
    if-eqz v9, :L2
    .line 239
    iget-object v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mbtnBack:Landroid/widget/ImageButton;
    new-instance v10, Lcom/nom/lib/app/LeaderboardActivity$3;
    invoke-direct { v10, p0 }, Lcom/nom/lib/app/LeaderboardActivity$3;-><init>(Lcom/nom/lib/app/LeaderboardActivity;)V
    invoke-virtual { v9, v10 }, Landroid/widget/ImageButton;->setOnClickListener(Landroid/view/View$OnClickListener;)V
    :L2
    .line 257
    const v9, 2131427355
    invoke-virtual { p0, v9 }, Lcom/nom/lib/app/LeaderboardActivity;->findViewById(I)Landroid/view/View;
    move-result-object v9
    check-cast v9, Landroid/widget/ViewFlipper;
    iput-object v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mflpFeed:Landroid/widget/ViewFlipper;
    .line 258
    const v9, 2131165189
    invoke-static { p0, v9 }, Landroid/view/animation/AnimationUtils;->loadAnimation(Landroid/content/Context;I)Landroid/view/animation/Animation;
    move-result-object v0
    .line 259
    .local v0, animIn:Landroid/view/animation/Animation;
    const-wide/16 v9, 400
    invoke-virtual { v0, v9, v10 }, Landroid/view/animation/Animation;->setDuration(J)V
    .line 260
    new-instance v9, Lcom/nom/lib/animation/FeedBounceInterpolator;
    invoke-direct { v9 }, Lcom/nom/lib/animation/FeedBounceInterpolator;-><init>()V
    invoke-virtual { v0, v9 }, Landroid/view/animation/Animation;->setInterpolator(Landroid/view/animation/Interpolator;)V
    .line 261
    iget-object v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mflpFeed:Landroid/widget/ViewFlipper;
    invoke-virtual { v9, v0 }, Landroid/widget/ViewFlipper;->setInAnimation(Landroid/view/animation/Animation;)V
    .line 262
    iget-object v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mflpFeed:Landroid/widget/ViewFlipper;
    const v10, 2131165190
    invoke-static { p0, v10 }, Landroid/view/animation/AnimationUtils;->loadAnimation(Landroid/content/Context;I)Landroid/view/animation/Animation;
    move-result-object v10
    invoke-virtual { v9, v10 }, Landroid/widget/ViewFlipper;->setOutAnimation(Landroid/view/animation/Animation;)V
    .line 265
    invoke-direct { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->refreshFeeds()V
    .line 268
    const v9, 2131427391
    invoke-virtual { p0, v9 }, Lcom/nom/lib/app/LeaderboardActivity;->findViewById(I)Landroid/view/View;
    move-result-object v9
    check-cast v9, Landroid/widget/ListView;
    iput-object v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mlvLeaderboard:Landroid/widget/ListView;
    .line 269
    new-instance v9, Lcom/nom/lib/adapter/LeaderboardArrayAdapterFlip;
    invoke-virtual { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->getApplication()Landroid/app/Application;
    move-result-object v10
    iget-object v11, p0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaders:Ljava/util/ArrayList;
    iget v12, p0, Lcom/nom/lib/app/LeaderboardActivity;->mID_LAYOUT_LEADERBOARD_ITEM:I
    iget v13, p0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaderboardType:I
    invoke-direct { v9, v10, v11, v12, v13 }, Lcom/nom/lib/adapter/LeaderboardArrayAdapterFlip;-><init>(Landroid/app/Application;Ljava/util/ArrayList;II)V
    iput-object v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mlvAdapter:Lcom/nom/lib/adapter/LeaderboardArrayAdapterFlip;
    .line 270
    iget-object v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mlvLeaderboard:Landroid/widget/ListView;
    iget-object v10, p0, Lcom/nom/lib/app/LeaderboardActivity;->mlvAdapter:Lcom/nom/lib/adapter/LeaderboardArrayAdapterFlip;
    invoke-virtual { v9, v10 }, Landroid/widget/ListView;->setAdapter(Landroid/widget/ListAdapter;)V
    .line 273
    invoke-direct { p0, v8 }, Lcom/nom/lib/app/LeaderboardActivity;->switchLeaderboard(I)V
    .line 276
    invoke-direct { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->loadGlobalRankTopsFromServer()V
    .line 278
    return-void
    :L3
    .line 209
    .end local v0
    aget-object v9, v5, v3
    const/4 v10, 2
    aget v9, v9, v10
    invoke-virtual { p0, v9 }, Lcom/nom/lib/app/LeaderboardActivity;->findViewById(I)Landroid/view/View;
    move-result-object v2
    .end local v2
    check-cast v2, Landroid/widget/ImageButton;
    .line 211
    .restart local v2
    iget-object v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mlbTypeButtons:Ljava/util/HashMap;
    aget-object v10, v5, v3
    aget v10, v10, v13
    invoke-static { v10 }, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
    move-result-object v10
    invoke-virtual { v9, v2, v10 }, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    .line 213
    iget-object v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mlbTypeNames:Ljava/util/HashMap;
    aget-object v10, v5, v3
    aget v10, v10, v13
    invoke-static { v10 }, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;
    move-result-object v10
    aget-object v11, v5, v3
    const/4 v12, 1
    aget v11, v11, v12
    invoke-virtual { v7, v11 }, Landroid/content/res/Resources;->getString(I)Ljava/lang/String;
    move-result-object v11
    invoke-virtual { v9, v10, v11 }, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    .line 215
    iget-object v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mlistenerOnClickType:Landroid/view/View$OnClickListener;
    invoke-virtual { v2, v9 }, Landroid/widget/ImageButton;->setOnClickListener(Landroid/view/View$OnClickListener;)V
    .line 207
    add-int/lit8 v3, v3, 1
    goto/16 :L1
.end method

.method private loadCachedLeaderboard()V
    .registers 33
    .prologue
    .line 423
    invoke-virtual/range { p0 .. p0 }, Lcom/nom/lib/app/LeaderboardActivity;->getApplication()Landroid/app/Application;
    move-result-object v3
    check-cast v3, Lcom/nom/lib/app/YGApplication;
    invoke-virtual { v3 }, Lcom/nom/lib/app/YGApplication;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;
    move-result-object v3
    .line 425
    .local v3, db:Landroid/database/sqlite/SQLiteDatabase;
    const/16 v24, 0
    .line 426
    .local v24, scoreObj:Lcom/nom/lib/model/Score;
    new-instance v4, Ljava/lang/StringBuilder;
    const-string v5, "leaderboard_type='"
    invoke-direct { v4, v5 }, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
    move-object/from16 v0, p0
    iget v0, v0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaderboardType:I
    move v5, v0
    invoke-virtual { v4, v5 }, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
    move-result-object v4
    const-string v5, "'"
    invoke-virtual { v4, v5 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    move-result-object v4
    invoke-virtual { v4 }, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    move-result-object v6
    .line 427
    .local v6, where:Ljava/lang/String;
    const-string v4, "leaderboard_scores"
    const/4 v5, 0
    const/4 v7, 0
    const/4 v8, 0
    const/4 v9, 0
    const-string v10, "score DESC"
    invoke-virtual/range { v3 .. v10 }, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
    move-result-object v11
    .line 428
    .local v11, cur:Landroid/database/Cursor;
    if-eqz v11, :L2
    .line 429
    invoke-interface { v11 }, Landroid/database/Cursor;->moveToFirst()Z
    move-result v4
    if-eqz v4, :L1
    .line 431
    move-object/from16 v0, p0
    iget-object v0, v0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaders:Ljava/util/ArrayList;
    move-object v4, v0
    invoke-virtual { v4 }, Ljava/util/ArrayList;->clear()V
    .line 434
    const-string v4, "yoink_id"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getInt(I)I
    move-result v31
    .line 435
    .local v31, yoinkId:I
    const-string v4, "global_rank"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getLong(I)J
    move-result-wide v15
    .line 436
    .local v15, globalRank:J
    const-string v4, "friend_rank"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getLong(I)J
    move-result-wide v13
    .line 437
    .local v13, friendRank:J
    const-string v4, "nick_name"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
    move-result-object v18
    .line 438
    .local v18, nickname:Ljava/lang/String;
    const-string v4, "first_name"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
    move-result-object v12
    .line 439
    .local v12, firstname:Ljava/lang/String;
    const-string v4, "last_name"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
    move-result-object v17
    .line 440
    .local v17, lastname:Ljava/lang/String;
    const-string v4, "photo_1"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
    move-result-object v19
    .line 441
    .local v19, photo1:Ljava/lang/String;
    const-string v4, "photo_2"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
    move-result-object v20
    .line 442
    .local v20, photo2:Ljava/lang/String;
    const-string v4, "score"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getLong(I)J
    move-result-wide v22
    .line 443
    .local v22, score:J
    const-string v4, "created_time"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getLong(I)J
    move-result-wide v25
    .line 444
    .local v25, timeCreated:J
    const-string v4, "modifieded_time"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getLong(I)J
    move-result-wide v27
    .line 445
    .local v27, timeModified:J
    const-string v4, "server_time"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getLong(I)J
    move-result-wide v29
    .line 448
    .local v29, timeServer:J
    new-instance v21, Lcom/nom/lib/model/Player;
    invoke-direct/range { v21 .. v21 }, Lcom/nom/lib/model/Player;-><init>()V
    .line 449
    .local v21, player:Lcom/nom/lib/model/Player;
    move-object/from16 v0, v21
    move/from16 v1, v31
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Player;->setYoinkId(I)V
    .line 450
    move-object/from16 v0, v21
    move-object v1, v12
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Player;->setFirstName(Ljava/lang/String;)V
    .line 451
    move-object/from16 v0, v21
    move-object/from16 v1, v17
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Player;->setLastName(Ljava/lang/String;)V
    .line 452
    move-object/from16 v0, v21
    move-object/from16 v1, v18
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Player;->setNickname(Ljava/lang/String;)V
    .line 453
    move-object/from16 v0, v21
    move-object/from16 v1, v19
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Player;->setPhotoUrl1(Ljava/lang/String;)V
    .line 454
    move-object/from16 v0, v21
    move-object/from16 v1, v20
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Player;->setPhotoUrl2(Ljava/lang/String;)V
    .line 455
    move-object/from16 v0, v21
    move-wide/from16 v1, v25
    invoke-virtual { v0, v1, v2 }, Lcom/nom/lib/model/Player;->setCreatedTime(J)V
    .line 456
    move-object/from16 v0, v21
    move-wide/from16 v1, v27
    invoke-virtual { v0, v1, v2 }, Lcom/nom/lib/model/Player;->setModifiedTime(J)V
    .line 457
    new-instance v24, Lcom/nom/lib/model/Score;
    .end local v24
    invoke-direct/range { v24 .. v24 }, Lcom/nom/lib/model/Score;-><init>()V
    .line 458
    .restart local v24
    move-object/from16 v0, v24
    move/from16 v1, v31
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Score;->setYoinkId(I)V
    .line 459
    move-object/from16 v0, p0
    iget v0, v0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaderboardType:I
    move v4, v0
    move-object/from16 v0, v24
    move v1, v4
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Score;->setScoreType(I)V
    .line 460
    move-object/from16 v0, v24
    move-wide/from16 v1, v22
    invoke-virtual { v0, v1, v2 }, Lcom/nom/lib/model/Score;->setScore(J)V
    .line 461
    move-object/from16 v0, v24
    move-wide v1, v15
    invoke-virtual { v0, v1, v2 }, Lcom/nom/lib/model/Score;->setGlobalRank(J)V
    .line 462
    move-object/from16 v0, v24
    move-wide v1, v13
    invoke-virtual { v0, v1, v2 }, Lcom/nom/lib/model/Score;->setFriendRank(J)V
    .line 463
    move-object/from16 v0, v24
    move-wide/from16 v1, v29
    invoke-virtual { v0, v1, v2 }, Lcom/nom/lib/model/Score;->setCreatedTime(J)V
    .line 464
    move-object/from16 v0, v21
    move-object/from16 v1, v24
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Player;->setScore(Lcom/nom/lib/model/Score;)V
    .line 467
    move-object/from16 v0, p0
    iget-object v0, v0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaders:Ljava/util/ArrayList;
    move-object v4, v0
    move-object v0, v4
    move-object/from16 v1, v21
    invoke-virtual { v0, v1 }, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    :L0
    .line 469
    invoke-interface { v11 }, Landroid/database/Cursor;->moveToNext()Z
    move-result v4
    if-nez v4, :L3
    :L1
    .line 508
    .end local v12
    .end local v13
    .end local v15
    .end local v17
    .end local v18
    .end local v19
    .end local v20
    .end local v21
    .end local v22
    .end local v25
    .end local v27
    .end local v29
    .end local v31
    invoke-interface { v11 }, Landroid/database/Cursor;->close()V
    :L2
    .line 512
    return-void
    :L3
    .line 471
    .restart local v12
    .restart local v13
    .restart local v15
    .restart local v17
    .restart local v18
    .restart local v19
    .restart local v20
    .restart local v21
    .restart local v22
    .restart local v25
    .restart local v27
    .restart local v29
    .restart local v31
    const-string v4, "yoink_id"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getInt(I)I
    move-result v31
    .line 472
    const-string v4, "global_rank"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getLong(I)J
    move-result-wide v15
    .line 473
    const-string v4, "friend_rank"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getLong(I)J
    move-result-wide v13
    .line 474
    const-string v4, "nick_name"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
    move-result-object v18
    .line 475
    const-string v4, "first_name"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
    move-result-object v12
    .line 476
    const-string v4, "last_name"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
    move-result-object v17
    .line 477
    const-string v4, "score"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getLong(I)J
    move-result-wide v22
    .line 478
    const-string v4, "photo_1"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
    move-result-object v19
    .line 479
    const-string v4, "photo_2"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
    move-result-object v20
    .line 480
    const-string v4, "created_time"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getLong(I)J
    move-result-wide v25
    .line 481
    const-string v4, "modifieded_time"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getLong(I)J
    move-result-wide v27
    .line 482
    const-string v4, "server_time"
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I
    move-result v4
    invoke-interface { v11, v4 }, Landroid/database/Cursor;->getLong(I)J
    move-result-wide v29
    .line 485
    new-instance v21, Lcom/nom/lib/model/Player;
    .end local v21
    invoke-direct/range { v21 .. v21 }, Lcom/nom/lib/model/Player;-><init>()V
    .line 486
    .restart local v21
    move-object/from16 v0, v21
    move/from16 v1, v31
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Player;->setYoinkId(I)V
    .line 487
    move-object/from16 v0, v21
    move-object v1, v12
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Player;->setFirstName(Ljava/lang/String;)V
    .line 488
    move-object/from16 v0, v21
    move-object/from16 v1, v17
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Player;->setLastName(Ljava/lang/String;)V
    .line 489
    move-object/from16 v0, v21
    move-object/from16 v1, v18
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Player;->setNickname(Ljava/lang/String;)V
    .line 490
    move-object/from16 v0, v21
    move-object/from16 v1, v19
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Player;->setPhotoUrl1(Ljava/lang/String;)V
    .line 491
    move-object/from16 v0, v21
    move-object/from16 v1, v20
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Player;->setPhotoUrl2(Ljava/lang/String;)V
    .line 492
    move-object/from16 v0, v21
    move-wide/from16 v1, v25
    invoke-virtual { v0, v1, v2 }, Lcom/nom/lib/model/Player;->setCreatedTime(J)V
    .line 493
    move-object/from16 v0, v21
    move-wide/from16 v1, v27
    invoke-virtual { v0, v1, v2 }, Lcom/nom/lib/model/Player;->setModifiedTime(J)V
    .line 495
    new-instance v24, Lcom/nom/lib/model/Score;
    .end local v24
    invoke-direct/range { v24 .. v24 }, Lcom/nom/lib/model/Score;-><init>()V
    .line 496
    .restart local v24
    move-object/from16 v0, v24
    move/from16 v1, v31
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Score;->setYoinkId(I)V
    .line 497
    move-object/from16 v0, p0
    iget v0, v0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaderboardType:I
    move v4, v0
    move-object/from16 v0, v24
    move v1, v4
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Score;->setScoreType(I)V
    .line 498
    move-object/from16 v0, v24
    move-wide/from16 v1, v22
    invoke-virtual { v0, v1, v2 }, Lcom/nom/lib/model/Score;->setScore(J)V
    .line 499
    move-object/from16 v0, v24
    move-wide v1, v15
    invoke-virtual { v0, v1, v2 }, Lcom/nom/lib/model/Score;->setGlobalRank(J)V
    .line 500
    move-object/from16 v0, v24
    move-wide v1, v13
    invoke-virtual { v0, v1, v2 }, Lcom/nom/lib/model/Score;->setFriendRank(J)V
    .line 501
    move-object/from16 v0, v24
    move-wide/from16 v1, v29
    invoke-virtual { v0, v1, v2 }, Lcom/nom/lib/model/Score;->setCreatedTime(J)V
    .line 502
    move-object/from16 v0, v21
    move-object/from16 v1, v24
    invoke-virtual { v0, v1 }, Lcom/nom/lib/model/Player;->setScore(Lcom/nom/lib/model/Score;)V
    .line 505
    move-object/from16 v0, p0
    iget-object v0, v0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaders:Ljava/util/ArrayList;
    move-object v4, v0
    move-object v0, v4
    move-object/from16 v1, v21
    invoke-virtual { v0, v1 }, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    goto/16 :L0
.end method

.method private loadGlobalRankTopsFromServer()V
    .registers 5
    .prologue
    .line 519
    iget-object v3, p0, Lcom/nom/lib/app/LeaderboardActivity;->mrequestGlobalRankTops:Lcom/nom/lib/ws/request/WSRequest;
    if-eqz v3, :L1
    :L0
    .line 530
    return-void
    :L1
    .line 523
    invoke-virtual { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->getApplication()Landroid/app/Application;
    move-result-object v0
    check-cast v0, Lcom/nom/lib/app/YGApplication;
    .line 524
    .local v0, app:Lcom/nom/lib/app/YGApplication;
    invoke-virtual { v0 }, Lcom/nom/lib/app/YGApplication;->getRequestFactory()Lcom/nom/lib/ws/request/WSRequestFactory;
    move-result-object v2
    .line 525
    .local v2, requestFactory:Lcom/nom/lib/ws/request/WSRequestFactory;
    invoke-virtual { v0 }, Lcom/nom/lib/app/YGApplication;->getAppId()I
    move-result v1
    .line 526
    .local v1, appId:I
    invoke-virtual { v2, p0, v1 }, Lcom/nom/lib/ws/request/WSRequestFactory;->createRequestGetGlobalRankTops(Lcom/nom/lib/ws/request/WSRequest$IWSRequestCallback;I)Lcom/nom/lib/ws/request/WSRequest;
    move-result-object v3
    iput-object v3, p0, Lcom/nom/lib/app/LeaderboardActivity;->mrequestGlobalRankTops:Lcom/nom/lib/ws/request/WSRequest;
    .line 527
    iget-object v3, p0, Lcom/nom/lib/app/LeaderboardActivity;->mrequestGlobalRankTops:Lcom/nom/lib/ws/request/WSRequest;
    if-eqz v3, :L0
    .line 528
    iget-object v3, p0, Lcom/nom/lib/app/LeaderboardActivity;->mrequestGlobalRankTops:Lcom/nom/lib/ws/request/WSRequest;
    invoke-virtual { v3 }, Lcom/nom/lib/ws/request/WSRequest;->submit()V
    goto :L0
.end method

.method private onGlobalRankTopsLoadedFromServer(Lcom/nom/lib/ws/request/WSRequest;)V
    .registers 13
    .prologue
    .line 539
    invoke-virtual { p1 }, Lcom/nom/lib/ws/request/WSRequest;->getResult()Ljava/lang/Object;
    move-result-object v5
    .line 540
    .local v5, result:Ljava/lang/Object;
    if-eqz v5, :L1
    .line 541
    new-instance v2, Lcom/nom/lib/ws/model/LeaderboardScoreArray;
    check-cast v5, Lorg/json/JSONArray;
    .end local v5
    invoke-direct { v2, v5 }, Lcom/nom/lib/ws/model/LeaderboardScoreArray;-><init>(Lorg/json/JSONArray;)V
    .line 543
    .local v2, leaderboardResult:Lcom/nom/lib/ws/model/LeaderboardScoreArray;
    invoke-virtual { v2 }, Lcom/nom/lib/ws/model/LeaderboardScoreArray;->length()I
    move-result v3
    .line 544
    .local v3, numPlayers:I
    const/4 v7, 0
    .line 546
    .local v7, scoreObj:Lcom/nom/lib/ws/model/LeaderboardScoreObject;
    const/4 v4, 0
    .line 547
    .local v4, player:Lcom/nom/lib/model/Player;
    const/4 v6, 0
    .line 548
    .local v6, score:Lcom/nom/lib/model/Score;
    const/4 v8, 0
    .line 549
    .local v8, scoreType:I
    invoke-virtual { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->getApplication()Landroid/app/Application;
    move-result-object v0
    check-cast v0, Lcom/nom/lib/app/YGApplication;
    .line 550
    .local v0, app:Lcom/nom/lib/app/YGApplication;
    const/4 v1, 0
    :L0
    .local v1, i:I
    if-lt v1, v3, :L2
    .line 593
    invoke-direct { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->refreshFeeds()V
    :L1
    .line 596
    .end local v0
    .end local v1
    .end local v2
    .end local v3
    .end local v4
    .end local v6
    .end local v7
    .end local v8
    return-void
    :L2
    .line 551
    .restart local v0
    .restart local v1
    .restart local v2
    .restart local v3
    .restart local v4
    .restart local v6
    .restart local v7
    .restart local v8
    invoke-virtual { v2, v1 }, Lcom/nom/lib/ws/model/LeaderboardScoreArray;->get(I)Lcom/nom/lib/ws/model/LeaderboardScoreObject;
    move-result-object v7
    .line 552
    if-eqz v7, :L3
    .line 553
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getScoreType()I
    move-result v8
    .line 554
    invoke-virtual { v0, v8 }, Lcom/nom/lib/app/YGApplication;->getGlobalRank1Player(I)Lcom/nom/lib/model/Player;
    move-result-object v4
    .line 555
    if-nez v4, :L4
    :L3
    .line 550
    add-int/lit8 v1, v1, 1
    goto :L0
    :L4
    .line 560
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getYoinkId()I
    move-result v9
    invoke-virtual { v4, v9 }, Lcom/nom/lib/model/Player;->setYoinkId(I)V
    .line 561
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getNickName()Ljava/lang/String;
    move-result-object v9
    invoke-virtual { v4, v9 }, Lcom/nom/lib/model/Player;->setNickname(Ljava/lang/String;)V
    .line 562
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getFirstName()Ljava/lang/String;
    move-result-object v9
    invoke-virtual { v4, v9 }, Lcom/nom/lib/model/Player;->setFirstName(Ljava/lang/String;)V
    .line 563
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getLastName()Ljava/lang/String;
    move-result-object v9
    invoke-virtual { v4, v9 }, Lcom/nom/lib/model/Player;->setLastName(Ljava/lang/String;)V
    .line 564
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getPhotoUrl1()Ljava/lang/String;
    move-result-object v9
    invoke-virtual { v4, v9 }, Lcom/nom/lib/model/Player;->setPhotoUrl1(Ljava/lang/String;)V
    .line 565
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getPhotoUrl2()Ljava/lang/String;
    move-result-object v9
    invoke-virtual { v4, v9 }, Lcom/nom/lib/model/Player;->setPhotoUrl2(Ljava/lang/String;)V
    .line 567
    invoke-virtual { v4, v8 }, Lcom/nom/lib/model/Player;->getScore(I)Lcom/nom/lib/model/Score;
    move-result-object v6
    .line 568
    if-eqz v6, :L5
    .line 569
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getYoinkId()I
    move-result v9
    invoke-virtual { v6, v9 }, Lcom/nom/lib/model/Score;->setYoinkId(I)V
    .line 570
    invoke-virtual { v6, v8 }, Lcom/nom/lib/model/Score;->setScoreType(I)V
    .line 571
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getScore()J
    move-result-wide v9
    invoke-virtual { v6, v9, v10 }, Lcom/nom/lib/model/Score;->setScore(J)V
    .line 572
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getGlobalRank()J
    move-result-wide v9
    invoke-virtual { v6, v9, v10 }, Lcom/nom/lib/model/Score;->setGlobalRank(J)V
    .line 573
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getFriendRank()J
    move-result-wide v9
    invoke-virtual { v6, v9, v10 }, Lcom/nom/lib/model/Score;->setFriendRank(J)V
    .line 574
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getTimeEarned()J
    move-result-wide v9
    invoke-virtual { v6, v9, v10 }, Lcom/nom/lib/model/Score;->setCreatedTime(J)V
    goto :L3
    :L5
    .line 578
    new-instance v6, Lcom/nom/lib/model/Score;
    .end local v6
    invoke-direct { v6 }, Lcom/nom/lib/model/Score;-><init>()V
    .line 579
    .restart local v6
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getYoinkId()I
    move-result v9
    invoke-virtual { v6, v9 }, Lcom/nom/lib/model/Score;->setYoinkId(I)V
    .line 580
    invoke-virtual { v6, v8 }, Lcom/nom/lib/model/Score;->setScoreType(I)V
    .line 581
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getScore()J
    move-result-wide v9
    invoke-virtual { v6, v9, v10 }, Lcom/nom/lib/model/Score;->setScore(J)V
    .line 582
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getGlobalRank()J
    move-result-wide v9
    invoke-virtual { v6, v9, v10 }, Lcom/nom/lib/model/Score;->setGlobalRank(J)V
    .line 583
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getFriendRank()J
    move-result-wide v9
    invoke-virtual { v6, v9, v10 }, Lcom/nom/lib/model/Score;->setFriendRank(J)V
    .line 584
    invoke-virtual { v7 }, Lcom/nom/lib/ws/model/LeaderboardScoreObject;->getTimeEarned()J
    move-result-wide v9
    invoke-virtual { v6, v9, v10 }, Lcom/nom/lib/model/Score;->setCreatedTime(J)V
    .line 586
    invoke-virtual { v4, v6 }, Lcom/nom/lib/model/Player;->setScore(Lcom/nom/lib/model/Score;)V
    goto/16 :L3
.end method

.method private refreshFeeds()V
    .registers 23
    .prologue
    .line 337
    move-object/from16 v0, p0
    iget-object v0, v0, Lcom/nom/lib/app/LeaderboardActivity;->mflpFeed:Landroid/widget/ViewFlipper;
    move-object/from16 v19, v0
    invoke-virtual/range { v19 .. v19 }, Landroid/widget/ViewFlipper;->stopFlipping()V
    .line 340
    invoke-virtual/range { p0 .. p0 }, Lcom/nom/lib/app/LeaderboardActivity;->getApplication()Landroid/app/Application;
    move-result-object v2
    check-cast v2, Lcom/nom/lib/app/YGApplication;
    .line 341
    .local v2, app:Lcom/nom/lib/app/YGApplication;
    const/4 v3, 0
    .line 342
    .local v3, feedMessage:Ljava/lang/String;
    const/4 v10, 0
    .line 343
    .local v10, player:Lcom/nom/lib/model/Player;
    const/4 v14, 0
    .line 344
    .local v14, scoreType:I
    const/4 v12, 0
    .line 345
    .local v12, score:Lcom/nom/lib/model/Score;
    const/4 v13, 0
    .line 346
    .local v13, scoreName:Ljava/lang/String;
    const/16 v16, 0
    .line 347
    .local v16, tv:Landroid/widget/TextView;
    const-wide/16 v17, 0
    .line 348
    .local v17, val:J
    invoke-virtual { v2 }, Lcom/nom/lib/app/YGApplication;->getNumLeaderboardType()I
    move-result v9
    .line 349
    .local v9, numLeaderboardTypes:I
    invoke-virtual { v2 }, Lcom/nom/lib/app/YGApplication;->getLeaderboardTypeMetaData()[[I
    move-result-object v7
    .line 350
    .local v7, leaderboardTypes:[[I
    invoke-virtual/range { p0 .. p0 }, Lcom/nom/lib/app/LeaderboardActivity;->getResources()Landroid/content/res/Resources;
    move-result-object v11
    .line 351
    .local v11, res:Landroid/content/res/Resources;
    const/4 v15, 0
    .line 352
    .local v15, strVal:Ljava/lang/String;
    const v19, 2130968588
    move-object v0, v11
    move/from16 v1, v19
    invoke-virtual { v0, v1 }, Landroid/content/res/Resources;->getString(I)Ljava/lang/String;
    move-result-object v4
    .line 353
    .local v4, fmtGlobalOne:Ljava/lang/String;
    const v19, 2130968589
    move-object v0, v11
    move/from16 v1, v19
    invoke-virtual { v0, v1 }, Landroid/content/res/Resources;->getString(I)Ljava/lang/String;
    move-result-object v5
    .line 354
    .local v5, fmtYourGlobal:Ljava/lang/String;
    const v19, 2130968590
    move-object v0, v11
    move/from16 v1, v19
    invoke-virtual { v0, v1 }, Landroid/content/res/Resources;->getString(I)Ljava/lang/String;
    move-result-object v8
    .line 355
    .local v8, noScore:Ljava/lang/String;
    const/4 v6, 0
    :L0
    .local v6, i:I
    if-lt v6, v9, :L1
    .line 394
    move-object/from16 v0, p0
    iget-object v0, v0, Lcom/nom/lib/app/LeaderboardActivity;->mflpFeed:Landroid/widget/ViewFlipper;
    move-object/from16 v19, v0
    invoke-virtual/range { v19 .. v19 }, Landroid/widget/ViewFlipper;->startFlipping()V
    .line 395
    return-void
    :L1
    .line 356
    aget-object v19, v7, v6
    const/16 v20, 0
    aget v14, v19, v20
    .line 357
    aget-object v19, v7, v6
    const/16 v20, 7
    aget v19, v19, v20
    move-object v0, v11
    move/from16 v1, v19
    invoke-virtual { v0, v1 }, Landroid/content/res/Resources;->getString(I)Ljava/lang/String;
    move-result-object v13
    .line 377
    aget-object v19, v7, v6
    const/16 v20, 0
    aget v19, v19, v20
    move-object v0, v2
    move/from16 v1, v19
    invoke-virtual { v0, v1 }, Lcom/nom/lib/app/YGApplication;->getGlobalRank1Player(I)Lcom/nom/lib/model/Player;
    move-result-object v10
    .line 378
    invoke-virtual { v10, v14 }, Lcom/nom/lib/model/Player;->getScore(I)Lcom/nom/lib/model/Score;
    move-result-object v12
    .line 379
    if-eqz v12, :L3
    .line 380
    invoke-virtual { v12 }, Lcom/nom/lib/model/Score;->getScore()J
    move-result-wide v17
    .line 381
    const-wide/16 v19, 0
    cmp-long v19, v17, v19
    if-lez v19, :L4
    .line 382
    invoke-static/range { v17 .. v18 }, Ljava/lang/String;->valueOf(J)Ljava/lang/String;
    move-result-object v15
    :L2
    .line 387
    const/16 v19, 3
    move/from16 v0, v19
    new-array v0, v0, [Ljava/lang/Object;
    move-object/from16 v19, v0
    const/16 v20, 0
    aput-object v13, v19, v20
    const/16 v20, 1
    invoke-virtual { v10 }, Lcom/nom/lib/model/Player;->getNickname()Ljava/lang/String;
    move-result-object v21
    aput-object v21, v19, v20
    const/16 v20, 2
    aput-object v15, v19, v20
    move-object v0, v4
    move-object/from16 v1, v19
    invoke-static { v0, v1 }, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;
    move-result-object v3
    .line 388
    aget-object v19, v7, v6
    const/16 v20, 4
    aget v19, v19, v20
    move-object/from16 v0, p0
    move/from16 v1, v19
    invoke-virtual { v0, v1 }, Lcom/nom/lib/app/LeaderboardActivity;->findViewById(I)Landroid/view/View;
    move-result-object v16
    .end local v16
    check-cast v16, Landroid/widget/TextView;
    .line 389
    .restart local v16
    move-object/from16 v0, v16
    move-object v1, v3
    invoke-virtual { v0, v1 }, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V
    :L3
    .line 355
    add-int/lit8 v6, v6, 1
    goto :L0
    :L4
    .line 385
    move-object v15, v8
    goto :L2
.end method

.method private refreshLeaderboard()V
    .registers 4
    .prologue
    const v2, 2131427392
    .line 403
    invoke-virtual { p0, v2 }, Lcom/nom/lib/app/LeaderboardActivity;->findViewById(I)Landroid/view/View;
    move-result-object v0
    const/4 v1, 0
    invoke-virtual { v0, v1 }, Landroid/view/View;->setVisibility(I)V
    .line 406
    invoke-direct { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->loadCachedLeaderboard()V
    .line 409
    iget-object v0, p0, Lcom/nom/lib/app/LeaderboardActivity;->mlvAdapter:Lcom/nom/lib/adapter/LeaderboardArrayAdapterFlip;
    invoke-virtual { v0 }, Lcom/nom/lib/adapter/LeaderboardArrayAdapterFlip;->notifyDataSetChanged()V
    .line 412
    invoke-virtual { p0, v2 }, Lcom/nom/lib/app/LeaderboardActivity;->findViewById(I)Landroid/view/View;
    move-result-object v0
    const/16 v1, 8
    invoke-virtual { v0, v1 }, Landroid/view/View;->setVisibility(I)V
    .line 414
    return-void
.end method

.method private switchLeaderboard(I)V
    .registers 13
    .prologue
    .line 289
    iget v8, p0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaderboardType:I
    if-eq p1, v8, :L1
    .line 291
    invoke-virtual { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->getApplication()Landroid/app/Application;
    move-result-object v0
    check-cast v0, Lcom/nom/lib/app/YGApplication;
    .line 292
    .local v0, app:Lcom/nom/lib/app/YGApplication;
    invoke-virtual { v0 }, Lcom/nom/lib/app/YGApplication;->getNumLeaderboardType()I
    move-result v4
    .line 293
    .local v4, numLeaderboardTypes:I
    invoke-virtual { v0 }, Lcom/nom/lib/app/YGApplication;->getLeaderboardTypeMetaData()[[I
    move-result-object v3
    .line 294
    .local v3, leaderboardTypes:[[I
    const/4 v1, 0
    .line 295
    .local v1, btn:Landroid/widget/ImageButton;
    invoke-virtual { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->getResources()Landroid/content/res/Resources;
    move-result-object v6
    .line 296
    .local v6, res:Landroid/content/res/Resources;
    const/4 v2, 0
    :L0
    .local v2, i:I
    if-lt v2, v4, :L3
    .line 309
    iput p1, p0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaderboardType:I
    .line 312
    iget-object v8, p0, Lcom/nom/lib/app/LeaderboardActivity;->mlvAdapter:Lcom/nom/lib/adapter/LeaderboardArrayAdapterFlip;
    iget v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaderboardType:I
    invoke-virtual { v8, v9 }, Lcom/nom/lib/adapter/LeaderboardArrayAdapterFlip;->setScoreType(I)V
    .line 316
    new-instance v7, Lcom/nom/lib/database/LeaderboardCacheUpdateService;
    invoke-virtual { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->getApplication()Landroid/app/Application;
    move-result-object v8
    check-cast v8, Lcom/nom/lib/app/YGApplication;
    iget v9, p0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaderboardType:I
    const/4 v10, 0
    invoke-direct { v7, v8, v9, v10 }, Lcom/nom/lib/database/LeaderboardCacheUpdateService;-><init>(Lcom/nom/lib/app/YGApplication;ILandroid/os/Handler;)V
    .line 317
    .local v7, task:Lcom/nom/lib/database/LeaderboardCacheUpdateService;
    invoke-virtual { v7 }, Lcom/nom/lib/database/LeaderboardCacheUpdateService;->start()V
    :L1
    .line 321
    .end local v0
    .end local v1
    .end local v2
    .end local v3
    .end local v4
    .end local v6
    .end local v7
    invoke-direct { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->refreshLeaderboard()V
    .line 324
    iget-object v8, p0, Lcom/nom/lib/app/LeaderboardActivity;->mlvAdapter:Lcom/nom/lib/adapter/LeaderboardArrayAdapterFlip;
    invoke-virtual { v8 }, Lcom/nom/lib/adapter/LeaderboardArrayAdapterFlip;->getPlayersPosition()I
    move-result v5
    .line 325
    .local v5, pos:I
    if-lez v5, :L2
    .line 326
    iget-object v8, p0, Lcom/nom/lib/app/LeaderboardActivity;->mlvLeaderboard:Landroid/widget/ListView;
    invoke-virtual { v8, v5 }, Landroid/widget/ListView;->setSelection(I)V
    :L2
    .line 329
    return-void
    :L3
    .line 298
    .end local v5
    .restart local v0
    .restart local v1
    .restart local v2
    .restart local v3
    .restart local v4
    .restart local v6
    aget-object v8, v3, v2
    const/4 v9, 2
    aget v8, v8, v9
    invoke-virtual { p0, v8 }, Lcom/nom/lib/app/LeaderboardActivity;->findViewById(I)Landroid/view/View;
    move-result-object v1
    .end local v1
    check-cast v1, Landroid/widget/ImageButton;
    .line 300
    .restart local v1
    aget-object v8, v3, v2
    const/4 v9, 0
    aget v8, v8, v9
    if-ne p1, v8, :L5
    .line 301
    aget-object v8, v3, v2
    const/4 v9, 6
    aget v8, v8, v9
    invoke-virtual { v1, v8 }, Landroid/widget/ImageButton;->setImageResource(I)V
    :L4
    .line 296
    add-int/lit8 v2, v2, 1
    goto :L0
    :L5
    .line 304
    aget-object v8, v3, v2
    const/4 v9, 5
    aget v8, v8, v9
    invoke-virtual { v1, v8 }, Landroid/widget/ImageButton;->setImageResource(I)V
    goto :L4
.end method

.method protected onCreate(Landroid/os/Bundle;)V
    .registers 4
    .prologue
    const/16 v1, 1024
    .line 99
    invoke-super { p0, p1 }, Landroid/app/Activity;->onCreate(Landroid/os/Bundle;)V
    .line 101
    const/4 v0, 1
    invoke-virtual { p0, v0 }, Lcom/nom/lib/app/LeaderboardActivity;->requestWindowFeature(I)Z
    .line 102
    invoke-virtual { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->getWindow()Landroid/view/Window;
    move-result-object v0
    invoke-virtual { v0, v1, v1 }, Landroid/view/Window;->setFlags(II)V
    .line 105
    invoke-direct { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->init()V
    .line 106
    return-void
.end method

.method protected onDestroy()V
    .registers 2
    .prologue
    .line 114
    iget-object v0, p0, Lcom/nom/lib/app/LeaderboardActivity;->mrequestGlobalRankTops:Lcom/nom/lib/ws/request/WSRequest;
    if-eqz v0, :L0
    .line 115
    iget-object v0, p0, Lcom/nom/lib/app/LeaderboardActivity;->mrequestGlobalRankTops:Lcom/nom/lib/ws/request/WSRequest;
    invoke-virtual { v0 }, Lcom/nom/lib/ws/request/WSRequest;->cancel()V
    :L0
    .line 118
    invoke-super { p0 }, Landroid/app/Activity;->onDestroy()V
    .line 119
    return-void
.end method

.method protected onPause()V
    .registers 8
    .prologue
    .line 144
    invoke-virtual { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->isFinishing()Z
    move-result v2
    if-eqz v2, :L1
    .line 147
    invoke-virtual { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->getApplication()Landroid/app/Application;
    move-result-object v0
    check-cast v0, Lcom/nom/lib/app/YGApplication;
    .line 148
    .local v0, app:Lcom/nom/lib/app/YGApplication;
    invoke-virtual { v0 }, Lcom/nom/lib/app/YGApplication;->getPFEventManager()Lcom/nom/lib/manager/YGPlatformEventManager;
    move-result-object v1
    .line 149
    .local v1, manager:Lcom/nom/lib/manager/YGPlatformEventManager;
    if-eqz v1, :L0
    .line 150
    const/4 v2, 4
    const/4 v3, 0
    invoke-virtual { v1, p0, v2, v3 }, Lcom/nom/lib/manager/YGPlatformEventManager;->raisePlatformEvent(Ljava/lang/Object;ILjava/lang/Object;)V
    :L0
    .line 154
    invoke-static { }, Lcom/nom/lib/manager/YGLogManager;->getInstance()Lcom/nom/lib/manager/YGLogManager;
    move-result-object v2
    const-string v3, "leaderboard.end"
    new-instance v4, Ljava/lang/StringBuilder;
    const-string v5, "type:"
    invoke-direct { v4, v5 }, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
    iget v5, p0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaderboardType:I
    invoke-virtual { v4, v5 }, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
    move-result-object v4
    invoke-virtual { v4 }, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    move-result-object v4
    invoke-static { }, Ljava/lang/System;->currentTimeMillis()J
    move-result-wide v5
    invoke-virtual { v2, v3, v4, v5, v6 }, Lcom/nom/lib/manager/YGLogManager;->addLog(Ljava/lang/String;Ljava/lang/String;J)V
    .line 157
    invoke-static { }, Lcom/nom/lib/manager/YGLogManager;->getInstance()Lcom/nom/lib/manager/YGLogManager;
    move-result-object v2
    invoke-virtual { v2 }, Lcom/nom/lib/manager/YGLogManager;->postLogs()V
    :L1
    .line 160
    .end local v0
    .end local v1
    invoke-super { p0 }, Landroid/app/Activity;->onPause()V
    .line 161
    return-void
.end method

.method protected onStart()V
    .registers 8
    .prologue
    .line 126
    invoke-super { p0 }, Landroid/app/Activity;->onStart()V
    .line 129
    invoke-virtual { p0 }, Lcom/nom/lib/app/LeaderboardActivity;->getApplication()Landroid/app/Application;
    move-result-object v0
    check-cast v0, Lcom/nom/lib/app/YGApplication;
    .line 130
    .local v0, app:Lcom/nom/lib/app/YGApplication;
    invoke-virtual { v0 }, Lcom/nom/lib/app/YGApplication;->getPFEventManager()Lcom/nom/lib/manager/YGPlatformEventManager;
    move-result-object v1
    .line 131
    .local v1, manager:Lcom/nom/lib/manager/YGPlatformEventManager;
    if-eqz v1, :L0
    .line 132
    const/4 v2, 3
    const/4 v3, 0
    invoke-virtual { v1, p0, v2, v3 }, Lcom/nom/lib/manager/YGPlatformEventManager;->raisePlatformEvent(Ljava/lang/Object;ILjava/lang/Object;)V
    :L0
    .line 136
    invoke-static { }, Lcom/nom/lib/manager/YGLogManager;->getInstance()Lcom/nom/lib/manager/YGLogManager;
    move-result-object v2
    const-string v3, "leaderboard.start"
    new-instance v4, Ljava/lang/StringBuilder;
    const-string v5, "type:"
    invoke-direct { v4, v5 }, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
    iget v5, p0, Lcom/nom/lib/app/LeaderboardActivity;->mLeaderboardType:I
    invoke-virtual { v4, v5 }, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
    move-result-object v4
    invoke-virtual { v4 }, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    move-result-object v4
    invoke-static { }, Ljava/lang/System;->currentTimeMillis()J
    move-result-wide v5
    invoke-virtual { v2, v3, v4, v5, v6 }, Lcom/nom/lib/manager/YGLogManager;->addLog(Ljava/lang/String;Ljava/lang/String;J)V
    .line 137
    return-void
.end method

.method public receivedError(Lcom/nom/lib/ws/request/WSRequest;)V
    .registers 4
    .prologue
    .line 619
    iget-object v1, p0, Lcom/nom/lib/app/LeaderboardActivity;->mrequestGlobalRankTops:Lcom/nom/lib/ws/request/WSRequest;
    if-ne p1, v1, :L0
    .line 620
    invoke-virtual { p1 }, Lcom/nom/lib/ws/request/WSRequest;->getResult()Ljava/lang/Object;
    move-result-object v0
    .line 625
    .local v0, result:Ljava/lang/Object;
    const/4 v1, 0
    iput-object v1, p0, Lcom/nom/lib/app/LeaderboardActivity;->mrequestGlobalRankTops:Lcom/nom/lib/ws/request/WSRequest;
    :L0
    .line 627
    .end local v0
    return-void
.end method

.method public receivedResponse(Lcom/nom/lib/ws/request/WSRequest;)V
    .registers 3
    .prologue
    .line 606
    iget-object v0, p0, Lcom/nom/lib/app/LeaderboardActivity;->mrequestGlobalRankTops:Lcom/nom/lib/ws/request/WSRequest;
    if-ne p1, v0, :L0
    .line 608
    invoke-direct { p0, p1 }, Lcom/nom/lib/app/LeaderboardActivity;->onGlobalRankTopsLoadedFromServer(Lcom/nom/lib/ws/request/WSRequest;)V
    .line 610
    const/4 v0, 0
    iput-object v0, p0, Lcom/nom/lib/app/LeaderboardActivity;->mrequestGlobalRankTops:Lcom/nom/lib/ws/request/WSRequest;
    :L0
    .line 612
    return-void
.end method
