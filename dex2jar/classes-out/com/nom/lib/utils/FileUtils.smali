.class public Lcom/nom/lib/utils/FileUtils;
.super Ljava/lang/Object;
.source "FileUtils.java"

.field private final static TEXT_ENCODING:Ljava/lang/String; = "utf-8"

.method public constructor <init>()V
    .registers 1
    .prologue
    .line 18
    invoke-direct { p0 }, Ljava/lang/Object;-><init>()V
    return-void
.end method

.method public static deleteFile(Ljava/io/File;)Z
    .registers 6
    .prologue
    .line 100
    invoke-virtual { p0 }, Ljava/io/File;->isDirectory()Z
    move-result v3
    if-eqz v3, :L1
    .line 101
    invoke-virtual { p0 }, Ljava/io/File;->list()[Ljava/lang/String;
    move-result-object v0
    .line 103
    .local v0, children:[Ljava/lang/String;
    const/4 v1, 0
    :L0
    .local v1, i:I
    array-length v3, v0
    if-lt v1, v3, :L3
    :L1
    .line 112
    .end local v0
    .end local v1
    invoke-virtual { p0 }, Ljava/io/File;->delete()Z
    move-result v3
    :L2
    return v3
    :L3
    .line 104
    .restart local v0
    .restart local v1
    new-instance v3, Ljava/io/File;
    aget-object v4, v0, v1
    invoke-direct { v3, p0, v4 }, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V
    invoke-static { v3 }, Lcom/nom/lib/utils/FileUtils;->deleteFile(Ljava/io/File;)Z
    move-result v2
    .line 105
    .local v2, success:Z
    if-nez v2, :L4
    .line 106
    const/4 v3, 0
    goto :L2
    :L4
    .line 103
    add-int/lit8 v1, v1, 1
    goto :L0
.end method

.method public static exportToFile(Ljava/lang/String;[B)Z
    .catchall { :L3 .. :L5 } :L10
    .catchall { :L5 .. :L6 } :L18
    .catch Landroid/content/res/Resources$NotFoundException; { :L7 .. :L8 } :L17
    .catch Ljava/io/IOException; { :L7 .. :L8 } :L16
    .catch Landroid/content/res/Resources$NotFoundException; { :L12 .. :L14 } :L14
    .catch Ljava/io/IOException; { :L12 .. :L14 } :L15
    .registers 7
    .prologue
    .line 123
    if-eqz p0, :L0
    if-nez p1, :L2
    :L0
    .line 124
    const/4 v4, 0
    :L1
    .line 151
    return v4
    :L2
    .line 127
    const/4 v3, 0
    .line 129
    .local v3, success:Z
    const/4 v0, 0
    :L3
    .line 132
    .local v0, bos:Ljava/io/BufferedOutputStream;
    new-instance v2, Ljava/io/File;
    invoke-direct { v2, p0 }, Ljava/io/File;-><init>(Ljava/lang/String;)V
    .line 133
    .local v2, file:Ljava/io/File;
    invoke-virtual { v2 }, Ljava/io/File;->exists()Z
    move-result v4
    if-nez v4, :L4
    .line 134
    invoke-virtual { v2 }, Ljava/io/File;->createNewFile()Z
    :L4
    .line 138
    new-instance v1, Ljava/io/BufferedOutputStream;
    new-instance v4, Ljava/io/FileOutputStream;
    invoke-direct { v4, v2 }, Ljava/io/FileOutputStream;-><init>(Ljava/io/File;)V
    invoke-direct { v1, v4 }, Ljava/io/BufferedOutputStream;-><init>(Ljava/io/OutputStream;)V
    :L5
    .line 141
    .end local v0
    .local v1, bos:Ljava/io/BufferedOutputStream;
    invoke-virtual { v1, p1 }, Ljava/io/BufferedOutputStream;->write([B)V
    :L6
    .line 142
    const/4 v3, 1
    .line 144
    if-eqz v1, :L19
    :L7
    .line 145
    invoke-virtual { v1 }, Ljava/io/BufferedOutputStream;->close()V
    :L8
    move-object v0, v1
    :L9
    .end local v1
    .end local v2
    .restart local v0
    move v4, v3
    .line 151
    goto :L1
    :L10
    .line 143
    move-exception v4
    :L11
    .line 144
    if-eqz v0, :L13
    :L12
    .line 145
    invoke-virtual { v0 }, Ljava/io/BufferedOutputStream;->close()V
    :L13
    .line 147
    throw v4
    :L14
    .line 148
    move-exception v4
    goto :L9
    :L15
    .line 149
    move-exception v4
    goto :L9
    :L16
    .end local v0
    .restart local v1
    .restart local v2
    move-exception v4
    move-object v0, v1
    .end local v1
    .restart local v0
    goto :L9
    :L17
    .line 148
    .end local v0
    .restart local v1
    move-exception v4
    move-object v0, v1
    .end local v1
    .restart local v0
    goto :L9
    :L18
    .line 143
    .end local v0
    .restart local v1
    move-exception v4
    move-object v0, v1
    .end local v1
    .restart local v0
    goto :L11
    :L19
    .end local v0
    .restart local v1
    move-object v0, v1
    .end local v1
    .restart local v0
    goto :L9
.end method

.method public static inputStream2String(Ljava/io/InputStream;)Ljava/lang/String;
    .catchall { :L2 .. :L3 } :L13
    .catchall { :L3 .. :L4 } :L22
    .catchall { :L4 .. :L5 } :L23
    .catch Ljava/io/UnsupportedEncodingException; { :L7 .. :L9 } :L21
    .catch Ljava/io/IOException; { :L7 .. :L9 } :L20
    .catchall { :L11 .. :L12 } :L23
    .catch Ljava/io/UnsupportedEncodingException; { :L15 .. :L18 } :L18
    .catch Ljava/io/IOException; { :L15 .. :L18 } :L19
    .registers 8
    .prologue
    .line 56
    if-nez p0, :L1
    .line 57
    const/4 v6, 0
    :L0
    .line 90
    return-object v6
    :L1
    .line 60
    const-string v5, ""
    .line 61
    .local v5, strLine:Ljava/lang/String;
    new-instance v4, Ljava/lang/StringBuilder;
    invoke-direct { v4 }, Ljava/lang/StringBuilder;-><init>()V
    .line 64
    .local v4, sb:Ljava/lang/StringBuilder;
    const/4 v2, 0
    .line 65
    .local v2, isr:Ljava/io/InputStreamReader;
    const/4 v0, 0
    :L2
    .line 68
    .local v0, br:Ljava/io/BufferedReader;
    new-instance v3, Ljava/io/InputStreamReader;
    const-string v6, "utf-8"
    invoke-direct { v3, p0, v6 }, Ljava/io/InputStreamReader;-><init>(Ljava/io/InputStream;Ljava/lang/String;)V
    :L3
    .line 69
    .end local v2
    .local v3, isr:Ljava/io/InputStreamReader;
    new-instance v1, Ljava/io/BufferedReader;
    invoke-direct { v1, v3 }, Ljava/io/BufferedReader;-><init>(Ljava/io/Reader;)V
    :L4
    .line 71
    .end local v0
    .local v1, br:Ljava/io/BufferedReader;
    invoke-virtual { v1 }, Ljava/io/BufferedReader;->readLine()Ljava/lang/String;
    :L5
    move-result-object v5
    :L6
    .line 72
    if-nez v5, :L11
    .line 78
    if-eqz v1, :L8
    :L7
    .line 79
    invoke-virtual { v1 }, Ljava/io/BufferedReader;->close()V
    :L8
    .line 82
    if-eqz v3, :L24
    .line 83
    invoke-virtual { v3 }, Ljava/io/InputStreamReader;->close()V
    :L9
    move-object v0, v1
    .end local v1
    .restart local v0
    move-object v2, v3
    :L10
    .line 90
    .end local v3
    .restart local v2
    invoke-virtual { v4 }, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    move-result-object v6
    goto :L0
    :L11
    .line 73
    .end local v0
    .end local v2
    .restart local v1
    .restart local v3
    invoke-virtual { v4, v5 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    .line 74
    const-string v6, "\n"
    invoke-virtual { v4, v6 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    .line 75
    invoke-virtual { v1 }, Ljava/io/BufferedReader;->readLine()Ljava/lang/String;
    :L12
    move-result-object v5
    goto :L6
    :L13
    .line 77
    .end local v1
    .end local v3
    .restart local v0
    .restart local v2
    move-exception v6
    :L14
    .line 78
    if-eqz v0, :L16
    :L15
    .line 79
    invoke-virtual { v0 }, Ljava/io/BufferedReader;->close()V
    :L16
    .line 82
    if-eqz v2, :L17
    .line 83
    invoke-virtual { v2 }, Ljava/io/InputStreamReader;->close()V
    :L17
    .line 85
    throw v6
    :L18
    .line 86
    move-exception v6
    goto :L10
    :L19
    .line 87
    move-exception v6
    goto :L10
    :L20
    .end local v0
    .end local v2
    .restart local v1
    .restart local v3
    move-exception v6
    move-object v0, v1
    .end local v1
    .restart local v0
    move-object v2, v3
    .end local v3
    .restart local v2
    goto :L10
    :L21
    .line 86
    .end local v0
    .end local v2
    .restart local v1
    .restart local v3
    move-exception v6
    move-object v0, v1
    .end local v1
    .restart local v0
    move-object v2, v3
    .end local v3
    .restart local v2
    goto :L10
    :L22
    .line 77
    .end local v2
    .restart local v3
    move-exception v6
    move-object v2, v3
    .end local v3
    .restart local v2
    goto :L14
    :L23
    .end local v0
    .end local v2
    .restart local v1
    .restart local v3
    move-exception v6
    move-object v0, v1
    .end local v1
    .restart local v0
    move-object v2, v3
    .end local v3
    .restart local v2
    goto :L14
    :L24
    .end local v0
    .end local v2
    .restart local v1
    .restart local v3
    move-object v0, v1
    .end local v1
    .restart local v0
    move-object v2, v3
    .end local v3
    .restart local v2
    goto :L10
.end method

.method public static raw2String(Landroid/content/res/Resources;I)Ljava/lang/String;
    .catchall { :L0 .. :L1 } :L4
    .catch Landroid/content/res/Resources$NotFoundException; { :L2 .. :L6 } :L6
    .catch Ljava/io/IOException; { :L2 .. :L6 } :L7
    .registers 5
    .prologue
    .line 29
    const/4 v1, 0
    .line 32
    .local v1, strOutput:Ljava/lang/String;
    const/4 v0, 0
    :L0
    .line 35
    .local v0, is:Ljava/io/InputStream;
    invoke-virtual { p0, p1 }, Landroid/content/res/Resources;->openRawResource(I)Ljava/io/InputStream;
    move-result-object v0
    .line 36
    invoke-static { v0 }, Lcom/nom/lib/utils/FileUtils;->inputStream2String(Ljava/io/InputStream;)Ljava/lang/String;
    :L1
    move-result-object v1
    .line 38
    if-eqz v0, :L3
    :L2
    .line 39
    invoke-virtual { v0 }, Ljava/io/InputStream;->close()V
    :L3
    .line 46
    return-object v1
    :L4
    .line 37
    move-exception v2
    .line 38
    if-eqz v0, :L5
    .line 39
    invoke-virtual { v0 }, Ljava/io/InputStream;->close()V
    :L5
    .line 41
    throw v2
    :L6
    .line 42
    move-exception v2
    goto :L3
    :L7
    .line 43
    move-exception v2
    goto :L3
.end method

.method public static unzipFile(Ljava/lang/String;Ljava/lang/String;)V
    .catch Ljava/lang/Exception; { :L0 .. :L1 } :L4
    .catch Ljava/lang/Exception; { :L1 .. :L2 } :L5
    .registers 5
    .prologue
    .line 161
    const/4 v0, 0
    :L0
    .line 163
    .local v0, fin:Ljava/io/FileInputStream;
    new-instance v1, Ljava/io/FileInputStream;
    invoke-direct { v1, p0 }, Ljava/io/FileInputStream;-><init>(Ljava/lang/String;)V
    :L1
    .line 165
    .end local v0
    .local v1, fin:Ljava/io/FileInputStream;
    invoke-static { v1, p1 }, Lcom/nom/lib/utils/FileUtils;->unzipFileByInputStream(Ljava/io/FileInputStream;Ljava/lang/String;)V
    :L2
    move-object v0, v1
    :L3
    .line 171
    .end local v1
    .restart local v0
    return-void
    :L4
    .line 168
    move-exception v2
    goto :L3
    :L5
    .end local v0
    .restart local v1
    move-exception v2
    move-object v0, v1
    .end local v1
    .restart local v0
    goto :L3
.end method

.method public static unzipFileByInputStream(Ljava/io/FileInputStream;Ljava/lang/String;)V
    .registers 2
    .prologue
    .line 180
    invoke-static { p0, p1 }, Lcom/nom/lib/utils/FileUtils;->unzipFileByInputStream(Ljava/io/InputStream;Ljava/lang/String;)V
    .line 181
    return-void
.end method

.method public static unzipFileByInputStream(Ljava/io/InputStream;Ljava/lang/String;)V
    .catch Ljava/lang/Exception; { :L0 .. :L12 } :L5
    .registers 15
    .prologue
    .line 184
    const/4 v7, 0
    .line 185
    .local v7, len:I
    const/16 v11, 4096
    :L0
    new-array v0, v11, [B
    .line 186
    .local v0, buff:[B
    new-instance v10, Ljava/util/zip/ZipInputStream;
    invoke-direct { v10, p0 }, Ljava/util/zip/ZipInputStream;-><init>(Ljava/io/InputStream;)V
    .line 187
    .local v10, zin:Ljava/util/zip/ZipInputStream;
    const/4 v9, 0
    .line 189
    .local v9, ze:Ljava/util/zip/ZipEntry;
    new-instance v2, Ljava/lang/StringBuilder;
    invoke-direct { v2 }, Ljava/lang/StringBuilder;-><init>()V
    .line 190
    .local v2, dirName:Ljava/lang/StringBuilder;
    const/4 v3, 0
    check-cast v3, [Ljava/lang/String;
    .line 191
    .local v3, dirNames:[Ljava/lang/String;
    const/4 v8, 0
    :L1
    .line 193
    .local v8, numDirs:I
    invoke-virtual { v10 }, Ljava/util/zip/ZipInputStream;->getNextEntry()Ljava/util/zip/ZipEntry;
    move-result-object v9
    if-nez v9, :L3
    .line 224
    invoke-virtual { v10 }, Ljava/util/zip/ZipInputStream;->close()V
    :L2
    .line 228
    .end local v0
    .end local v2
    .end local v3
    .end local v8
    .end local v9
    .end local v10
    return-void
    :L3
    .line 194
    .restart local v0
    .restart local v2
    .restart local v3
    .restart local v8
    .restart local v9
    .restart local v10
    invoke-virtual { v9 }, Ljava/util/zip/ZipEntry;->getName()Ljava/lang/String;
    move-result-object v11
    const-string v12, "/"
    invoke-virtual { v11, v12 }, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;
    move-result-object v3
    .line 195
    array-length v8, v3
    .line 196
    const/4 v11, 0
    invoke-virtual { v2, v11 }, Ljava/lang/StringBuilder;->setLength(I)V
    .line 197
    invoke-virtual { v2, p1 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    .line 198
    const/4 v6, 0
    :L4
    .local v6, i:I
    const/4 v11, 1
    sub-int v11, v8, v11
    if-lt v6, v11, :L6
    .line 207
    invoke-virtual { v9 }, Ljava/util/zip/ZipEntry;->isDirectory()Z
    move-result v11
    if-eqz v11, :L8
    .line 208
    new-instance v4, Ljava/io/File;
    new-instance v11, Ljava/lang/StringBuilder;
    invoke-static { p1 }, Ljava/lang/String;->valueOf(Ljava/lang/Object;)Ljava/lang/String;
    move-result-object v12
    invoke-direct { v11, v12 }, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
    invoke-virtual { v9 }, Ljava/util/zip/ZipEntry;->getName()Ljava/lang/String;
    move-result-object v12
    invoke-virtual { v11, v12 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    move-result-object v11
    invoke-virtual { v11 }, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    move-result-object v11
    invoke-direct { v4, v11 }, Ljava/io/File;-><init>(Ljava/lang/String;)V
    .line 209
    .local v4, f:Ljava/io/File;
    invoke-virtual { v4 }, Ljava/io/File;->isDirectory()Z
    move-result v11
    if-nez v11, :L1
    .line 210
    invoke-virtual { v4 }, Ljava/io/File;->mkdirs()Z
    goto :L1
    :L5
    .line 226
    .end local v0
    .end local v2
    .end local v3
    .end local v4
    .end local v6
    .end local v8
    .end local v9
    .end local v10
    move-exception v11
    goto :L2
    :L6
    .line 199
    .restart local v0
    .restart local v2
    .restart local v3
    .restart local v6
    .restart local v8
    .restart local v9
    .restart local v10
    const-string v11, "/"
    invoke-virtual { v2, v11 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    .line 200
    aget-object v11, v3, v6
    invoke-virtual { v2, v11 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    .line 201
    new-instance v1, Ljava/io/File;
    invoke-virtual { v2 }, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    move-result-object v11
    invoke-direct { v1, v11 }, Ljava/io/File;-><init>(Ljava/lang/String;)V
    .line 202
    .local v1, dir:Ljava/io/File;
    invoke-virtual { v1 }, Ljava/io/File;->exists()Z
    move-result v11
    if-nez v11, :L7
    .line 203
    invoke-virtual { v1 }, Ljava/io/File;->mkdir()Z
    :L7
    .line 198
    add-int/lit8 v6, v6, 1
    goto :L4
    :L8
    .line 214
    .end local v1
    new-instance v5, Ljava/io/FileOutputStream;
    new-instance v11, Ljava/lang/StringBuilder;
    invoke-static { p1 }, Ljava/lang/String;->valueOf(Ljava/lang/Object;)Ljava/lang/String;
    move-result-object v12
    invoke-direct { v11, v12 }, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V
    const-string v12, "/"
    invoke-virtual { v11, v12 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    move-result-object v11
    invoke-virtual { v9 }, Ljava/util/zip/ZipEntry;->getName()Ljava/lang/String;
    move-result-object v12
    invoke-virtual { v11, v12 }, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
    move-result-object v11
    invoke-virtual { v11 }, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    move-result-object v11
    const/4 v12, 0
    invoke-direct { v5, v11, v12 }, Ljava/io/FileOutputStream;-><init>(Ljava/lang/String;Z)V
    .line 215
    .local v5, fout:Ljava/io/FileOutputStream;
    invoke-virtual { v10, v0 }, Ljava/util/zip/ZipInputStream;->read([B)I
    move-result v7
    :L9
    .line 216
    const/4 v11, -1
    if-eq v7, v11, :L10
    if-nez v7, :L11
    :L10
    .line 220
    invoke-virtual { v10 }, Ljava/util/zip/ZipInputStream;->closeEntry()V
    .line 221
    invoke-virtual { v5 }, Ljava/io/FileOutputStream;->close()V
    goto/16 :L1
    :L11
    .line 217
    const/4 v11, 0
    invoke-virtual { v5, v0, v11, v7 }, Ljava/io/FileOutputStream;->write([BII)V
    .line 218
    invoke-virtual { v10, v0 }, Ljava/util/zip/ZipInputStream;->read([B)I
    :L12
    move-result v7
    goto :L9
.end method
